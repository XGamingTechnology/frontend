{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/HeaderBar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n// Tipe data user sesuai backend\r\ninterface User {\r\n  id: string;\r\n  username: string;\r\n  role: \"user\" | \"admin\";\r\n  fullName?: string;\r\n  email: string;\r\n  avatarUrl?: string;\r\n}\r\n\r\nexport default function HeaderBar() {\r\n  const router = useRouter();\r\n  const [userName, setUserName] = useState(\"Pengguna\");\r\n\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(\"user\");\r\n    if (stored) {\r\n      try {\r\n        const parsed = JSON.parse(stored) as User;\r\n        // Gunakan fullName jika ada, fallback ke username, lalu ke \"Pengguna\"\r\n        const displayName = parsed.fullName || parsed.username || \"Pengguna\";\r\n        setUserName(displayName);\r\n      } catch (error) {\r\n        console.error(\"Gagal parsing user dari localStorage:\", error);\r\n        setUserName(\"Pengguna\");\r\n      }\r\n    } else {\r\n      // Jika tidak ada user, redirect ke login (opsional)\r\n      // router.push(\"/login\"); // aktifkan jika ingin wajib login\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    if (confirm(\"Yakin ingin logout?\")) {\r\n      // Hapus data autentikasi\r\n      localStorage.removeItem(\"authToken\");\r\n      localStorage.removeItem(\"user\");\r\n\r\n      // Log aktivitas logout\r\n      console.log(\"User logout\");\r\n\r\n      // Redirect\r\n      router.push(\"/login\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"flex items-center justify-between bg-white border-b border-gray-200 px-4 py-3 shadow-sm\">\r\n      {/* Kiri: Logo + Nama Web */}\r\n      <div className=\"flex items-center space-x-3\">\r\n        <img src=\"/Logo.svg\" alt=\"Logo Jangkar\" className=\"h-8 w-8\" />\r\n        <span className=\"text-lg font-semibold text-blue-800\">Vision Traffic Suite</span>\r\n      </div>\r\n\r\n      {/* Kanan: Status Aktif + Nama + Logout */}\r\n      <div className=\"flex items-center space-x-3 text-sm\">\r\n        <img src=\"/Active.svg\" alt=\"User Active\" className=\"h-4 w-4 animate-pulse\" title=\"Pengguna aktif\" />\r\n        <span className=\"text-slate-800 font-medium\">{userName}</span>\r\n        <span className=\"text-gray-300\">|</span>\r\n        <button onClick={handleLogout} className=\"text-red-500 hover:underline\" title=\"Keluar dari sistem\">\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAee,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,QAAQ;YACV,IAAI;gBACF,MAAM,SAAS,KAAK,KAAK,CAAC;gBAC1B,sEAAsE;gBACtE,MAAM,cAAc,OAAO,QAAQ,IAAI,OAAO,QAAQ,IAAI;gBAC1D,YAAY;YACd,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yCAAyC;gBACvD,YAAY;YACd;QACF,OAAO;QACL,oDAAoD;QACpD,4DAA4D;QAC9D;IACF,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,IAAI,QAAQ,wBAAwB;YAClC,yBAAyB;YACzB,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YAExB,uBAAuB;YACvB,QAAQ,GAAG,CAAC;YAEZ,WAAW;YACX,OAAO,IAAI,CAAC;QACd;IACF;IAEA,qBACE,8OAAC;QAAO,WAAU;;0BAEhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,KAAI;wBAAY,KAAI;wBAAe,WAAU;;;;;;kCAClD,8OAAC;wBAAK,WAAU;kCAAsC;;;;;;;;;;;;0BAIxD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,KAAI;wBAAc,KAAI;wBAAc,WAAU;wBAAwB,OAAM;;;;;;kCACjF,8OAAC;wBAAK,WAAU;kCAA8B;;;;;;kCAC9C,8OAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,8OAAC;wBAAO,SAAS;wBAAc,WAAU;wBAA+B,OAAM;kCAAqB;;;;;;;;;;;;;;;;;;AAM3G","debugId":null}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/SidebarLeft.tsx"],"sourcesContent":["// src/components/SidebarLeft.tsx\r\n\"use client\";\r\n\r\nimport { useTool } from \"@/context/ToolContext\";\r\nimport { useData } from \"@/context/DataContext\";\r\nimport { MapIcon, BeakerIcon, CursorArrowRaysIcon, WrenchScrewdriverIcon, RectangleStackIcon } from \"@heroicons/react/24/outline\";\r\nimport type { Tool } from \"@/context/ToolContext\";\r\n\r\nexport default function SidebarLeft() {\r\n  const { activeTool, setActiveTool } = useTool();\r\n  const { layerDefinitions, layerVisibility, setLayerVisibility, loadingLayers, errorLayers } = useData();\r\n\r\n  // üîß Tools tetap bisa hardcode (opsional: bisa juga dari backend)\r\n  const toolOptions: {\r\n    value: Tool;\r\n    label: string;\r\n    icon: React.ElementType;\r\n    tooltip: string;\r\n  }[] = [\r\n    {\r\n      value: \"toponimi\",\r\n      label: \"Tambah Toponimi\",\r\n      icon: MapIcon,\r\n      tooltip: \"Menambahkan nama tempat di sungai\",\r\n    },\r\n    {\r\n      value: \"simulasi\",\r\n      label: \"Simulasi Akuisisi Data\",\r\n      icon: CursorArrowRaysIcon,\r\n      tooltip: \"Membuat transek otomatis dari garis tengah sungai\",\r\n    },\r\n    {\r\n      value: \"echosounder\",\r\n      label: \"Visualisasi Echosounder\",\r\n      icon: BeakerIcon,\r\n      tooltip: \"Menampilkan data echosounder\",\r\n    },\r\n  ];\r\n\r\n  // ‚úÖ Handler: Toggle visibilitas layer\r\n  const handleLayerVisibilityChange = (layerId: string) => {\r\n    const newVisibility = { ...layerVisibility, [layerId]: !layerVisibility[layerId] };\r\n    setLayerVisibility(newVisibility);\r\n\r\n    // üß† Opsional: Simpan ke localStorage agar tetap saat reload\r\n    try {\r\n      localStorage.setItem(\"layerVisibility\", JSON.stringify(newVisibility));\r\n    } catch (err) {\r\n      console.warn(\"Gagal simpan layerVisibility ke localStorage\", err);\r\n    }\r\n  };\r\n\r\n  // ‚úÖ Fungsi: Reset visibilitas semua layer\r\n  const handleResetLayers = () => {\r\n    const reset = layerDefinitions.reduce((acc, layer) => ({ ...acc, [layer.id]: false }), {} as Record<string, boolean>);\r\n    setLayerVisibility(reset);\r\n    try {\r\n      localStorage.setItem(\"layerVisibility\", JSON.stringify(reset));\r\n    } catch (err) {\r\n      console.warn(\"Gagal reset localStorage\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-full w-72 border-r bg-white text-sm text-gray-800 shadow-md flex flex-col\">\r\n      <div className=\"p-4 space-y-6 flex-1 overflow-y-auto\">\r\n        {/* Layer List */}\r\n        <div>\r\n          <h2 className=\"flex items-center gap-2 mb-3 font-semibold border-b pb-1 text-base\">\r\n            <RectangleStackIcon className=\"w-4 h-4\" />\r\n            Layer List\r\n          </h2>\r\n\r\n          {/* Loading */}\r\n          {loadingLayers && (\r\n            <div className=\"flex items-center justify-center py-2\">\r\n              <span className=\"text-gray-500 text-sm\">Memuat layer...</span>\r\n            </div>\r\n          )}\r\n\r\n          {/* Error */}\r\n          {errorLayers && !loadingLayers && (\r\n            <div className=\"text-center py-2\">\r\n              <p className=\"text-red-500 text-sm\">‚ùå {errorLayers}</p>\r\n              <button onClick={() => window.location.reload()} className=\"text-xs text-blue-500 hover:underline mt-1\">\r\n                Coba lagi\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Data Tersedia */}\r\n          {!loadingLayers && !errorLayers && Array.isArray(layerDefinitions) && layerDefinitions.length > 0 ? (\r\n            <div className=\"space-y-2\">\r\n              {layerDefinitions.map((layer) => (\r\n                <label key={layer.id} className=\"flex items-center justify-between hover:bg-gray-100 p-2 rounded-md transition cursor-pointer group\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <input type=\"checkbox\" className=\"accent-cyan-600 w-4 h-4\" checked={layerVisibility[layer.id] ?? false} onChange={() => handleLayerVisibilityChange(layer.id)} />\r\n                    <span className=\"font-medium\">{layer.name}</span>\r\n                  </div>\r\n                  <span className=\"text-gray-400 text-xs group-hover:text-gray-700\" title={layer.description || \"Tidak ada deskripsi\"}>\r\n                    ‚ÑπÔ∏è\r\n                  </span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            !loadingLayers &&\r\n            !errorLayers && (\r\n              <div className=\"text-center py-2\">\r\n                <p className=\"text-gray-500 text-sm\">Tidak ada layer tersedia.</p>\r\n                <button onClick={handleResetLayers} className=\"text-xs text-blue-500 hover:underline mt-1\">\r\n                  Reset visibilitas\r\n                </button>\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n\r\n        {/* Tool Selector */}\r\n        <div>\r\n          <h2 className=\"flex items-center gap-2 mb-3 font-semibold border-b pb-1 text-base\">\r\n            <WrenchScrewdriverIcon className=\"w-4 h-4\" />\r\n            Tools\r\n          </h2>\r\n          <div className=\"space-y-2\">\r\n            {toolOptions.map(({ value, label, icon: Icon, tooltip }) => (\r\n              <button\r\n                key={`tool-${value}`}\r\n                title={tooltip}\r\n                onClick={() => setActiveTool(value)}\r\n                className={`flex items-center w-full gap-2 p-2 rounded-md transition text-left hover:bg-indigo-50 ${activeTool === value ? \"bg-indigo-100 font-semibold text-indigo-700\" : \"text-gray-700\"}`}\r\n              >\r\n                <Icon className=\"w-4 h-4\" />\r\n                <span>{label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 453, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/SidebarRight.tsx"],"sourcesContent":["// src/components/SidebarRight.tsx\r\n\"use client\";\r\n\r\n// 1. Impor useData dari DataContext\r\nimport { useData } from \"@/context/DataContext\";\r\n// 2. Impor library yang dibutuhkan untuk chart\r\nimport { Chart as ChartJS, LineElement, PointElement, LinearScale, CategoryScale, Tooltip, Legend } from \"chart.js\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { useMemo } from \"react\";\r\nimport \"echarts-gl\";\r\n\r\n// 3. Daftarkan komponen ChartJS\r\nChartJS.register(LineElement, PointElement, LinearScale, CategoryScale, Tooltip, Legend);\r\n\r\n// 4. Import ReactECharts secara dinamis untuk menghindari masalah SSR\r\nconst ReactECharts = dynamic(() => import(\"echarts-for-react\"), { ssr: false });\r\n\r\nexport default function SidebarRight() {\r\n  // 5. Dapatkan echosounderData dari DataContext\r\n  const { echosounderData } = useData();\r\n\r\n  // 6. Siapkan data dan opsi untuk chart 2D\r\n  const data = {\r\n    // 7. Pastikan echosounderData adalah array sebelum menggunakan .map\r\n    labels: Array.isArray(echosounderData) ? echosounderData.map((d) => d.jarak) : [],\r\n    datasets: [\r\n      {\r\n        label: \"Kedalaman (m)\",\r\n        // 8. Pastikan echosounderData adalah array sebelum menggunakan .map\r\n        data: Array.isArray(echosounderData) ? echosounderData.map((d) => d.kedalaman) : [],\r\n        fill: true,\r\n        backgroundColor: \"rgba(59,130,246,0.2)\",\r\n        borderColor: \"rgba(59,130,246,1)\",\r\n        tension: 0.4,\r\n        pointRadius: 3,\r\n        pointBackgroundColor: \"rgba(59,130,246,1)\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: { display: true },\r\n    },\r\n    scales: {\r\n      y: {\r\n        reverse: true,\r\n        title: {\r\n          display: true,\r\n          text: \"Kedalaman (m)\",\r\n        },\r\n      },\r\n      x: {\r\n        title: {\r\n          display: true,\r\n          text: \"Jarak (m)\",\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  // 9. Siapkan opsi untuk chart 3D menggunakan useMemo untuk optimasi\r\n  const option3D = useMemo(() => {\r\n    // 10. Pastikan echosounderData adalah array dan tidak kosong\r\n    if (!Array.isArray(echosounderData) || echosounderData.length === 0) {\r\n      return {}; // Kembalikan objek kosong jika tidak ada data\r\n    }\r\n\r\n    const xLen = echosounderData.length;\r\n    const yLen = 5;\r\n    // const stepY = 1; // Tidak digunakan dalam logika saat ini\r\n    const surfaceData: number[][] = [];\r\n\r\n    for (let i = 0; i < xLen; i++) {\r\n      const row: number[] = [];\r\n      for (let j = 0; j < yLen; j++) {\r\n        // 11. Tambahkan variasi halus pada data Z untuk visualisasi 3D yang lebih menarik\r\n        row.push(echosounderData[i].kedalaman + Math.sin(j * 0.5) * 0.1);\r\n      }\r\n      surfaceData.push(row);\r\n    }\r\n\r\n    // 12. Kembalikan konfigurasi chart 3D\r\n    return {\r\n      tooltip: {},\r\n      visualMap: {\r\n        show: true,\r\n        // 13. Hitung min/max dengan aman\r\n        min: Math.min(...echosounderData.map((d) => d.kedalaman)),\r\n        max: Math.max(...echosounderData.map((d) => d.kedalaman)),\r\n        inRange: {\r\n          color: [\"#4575b4\", \"#91bfdb\", \"#e0f3f8\", \"#ffffbf\", \"#fee090\", \"#fc8d59\", \"#d73027\"],\r\n        },\r\n        calculable: true,\r\n        orient: \"vertical\",\r\n        left: \"left\",\r\n        bottom: \"10%\",\r\n      },\r\n      xAxis3D: {\r\n        type: \"category\",\r\n        name: \"Jarak\",\r\n        // 14. Format data jarak untuk sumbu X\r\n        data: echosounderData.map((d) => d.jarak.toFixed(1)),\r\n      },\r\n      yAxis3D: {\r\n        type: \"category\",\r\n        name: \"Offset\",\r\n        // 15. Buat label untuk sumbu Y\r\n        data: Array.from({ length: yLen }, (_, j) => `W${j}`),\r\n      },\r\n      zAxis3D: {\r\n        type: \"value\",\r\n        name: \"Kedalaman (m)\",\r\n      },\r\n      grid3D: {\r\n        boxWidth: 100,\r\n        boxDepth: 30,\r\n        viewControl: {\r\n          autoRotate: true,\r\n          projection: \"perspective\",\r\n        },\r\n        light: {\r\n          main: {\r\n            intensity: 1.2,\r\n            shadow: true,\r\n          },\r\n          ambient: {\r\n            intensity: 0.3,\r\n          },\r\n        },\r\n      },\r\n      series: [\r\n        {\r\n          type: \"surface\",\r\n          wireframe: {\r\n            show: false,\r\n          },\r\n          shading: \"color\",\r\n          data: surfaceData,\r\n        },\r\n      ],\r\n    };\r\n  }, [echosounderData]); // 16. Dependensi useMemo adalah echosounderData\r\n\r\n  return (\r\n    <div className=\"p-4 w-full space-y-6\">\r\n      {/* --- Diagram 2D --- */}\r\n      <div>\r\n        <h2 className=\"font-bold mb-4 text-lg text-slate-700\">üìä Diagram Penampang Echosounder</h2>\r\n        {/* 17. Tampilkan chart atau pesan jika tidak ada data */}\r\n        {Array.isArray(echosounderData) && echosounderData.length > 0 ? <Line data={data} options={options} /> : <p className=\"text-sm text-gray-400 italic\">Belum ada data untuk divisualisasikan.</p>}\r\n      </div>\r\n\r\n      {/* --- Visualisasi 3D --- */}\r\n      <div>\r\n        <h2 className=\"font-bold mb-4 text-lg text-slate-700\">üßä Visualisasi 3D</h2>\r\n        {/* 18. Tampilkan chart 3D atau pesan jika tidak ada data */}\r\n        {Array.isArray(echosounderData) && echosounderData.length > 0 ? (\r\n          // 19. Gunakan ReactECharts dengan opsi 3D\r\n          <ReactECharts option={option3D} style={{ height: 400 }} />\r\n        ) : (\r\n          <p className=\"text-sm text-gray-400 italic\">Belum ada data untuk divisualisasikan.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 702, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/BottomPanel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo, useState } from \"react\";\r\nimport { MaterialReactTable, type MRT_ColumnDef, type MRT_Row } from \"material-react-table\";\r\nimport { Box, IconButton } from \"@mui/material\";\r\nimport { Refresh } from \"@mui/icons-material\";\r\n\r\nexport default function AttributeTable() {\r\n  const [data, setData] = useState([\r\n    { id: 1, OBJECTID: 2, NAMOBJ: \"Sungai Bengkuluangan\", JNSSNG: 0, KLSSNG: 0, FCODE: null, REMARK: \"Sungai\", SRS_ID: \"DA0280\", METADATA: null, NAMWS: null },\r\n    { id: 2, OBJECTID: 3, NAMOBJ: \"Sungai Keramasan\", JNSSNG: 0, KLSSNG: 0, FCODE: null, REMARK: \"Sungai\", SRS_ID: \"DA0280\", METADATA: null, NAMWS: null },\r\n    // ... data lainnya\r\n  ]);\r\n\r\n  // Definisi kolom\r\n  const columns = useMemo<MRT_ColumnDef<any>[]>(\r\n    () => [\r\n      { accessorKey: \"id\", header: \"ID\", size: 50 },\r\n      { accessorKey: \"OBJECTID\", header: \"Object ID\", size: 100 },\r\n      { accessorKey: \"NAMOBJ\", header: \"Nama Objek\", size: 200 },\r\n      { accessorKey: \"JNSSNG\", header: \"Jenis Sungai\", size: 100 },\r\n      { accessorKey: \"KLSSNG\", header: \"Kelas Sungai\", size: 100 },\r\n      { accessorKey: \"FCODE\", header: \"F Code\", size: 100 },\r\n      { accessorKey: \"REMARK\", header: \"Remark\", size: 100 },\r\n      { accessorKey: \"SRS_ID\", header: \"SRS ID\", size: 100 },\r\n      { accessorKey: \"METADATA\", header: \"Metadata\", size: 100 },\r\n      { accessorKey: \"NAMWS\", header: \"Nama WS\", size: 100 },\r\n    ],\r\n    []\r\n  );\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow\">\r\n      <MaterialReactTable\r\n        columns={columns}\r\n        data={data}\r\n        enableColumnResizing\r\n        enableColumnOrdering\r\n        enablePinning\r\n        enableRowNumbers\r\n        enableRowActions\r\n        enablePagination\r\n        enableGlobalFilter\r\n        enableColumnFilters\r\n        initialState={{\r\n          density: \"compact\",\r\n          pagination: { pageSize: 10, pageIndex: 0 },\r\n        }}\r\n        muiTableContainerProps={{\r\n          sx: { maxHeight: \"400px\" },\r\n        }}\r\n        renderTopToolbarCustomActions={() => (\r\n          <Box sx={{ display: \"flex\", gap: \"1rem\", alignItems: \"center\" }}>\r\n            <h3 className=\"text-lg font-semibold\">üìã Attribute Table</h3>\r\n            <IconButton onClick={() => console.log(\"Refresh data\")}>\r\n              <Refresh />\r\n            </IconButton>\r\n          </Box>\r\n        )}\r\n        muiTablePaperProps={{\r\n          elevation: 0,\r\n          sx: {\r\n            borderRadius: \"8px\",\r\n            border: \"1px solid #e0e0e0\",\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAC/B;YAAE,IAAI;YAAG,UAAU;YAAG,QAAQ;YAAwB,QAAQ;YAAG,QAAQ;YAAG,OAAO;YAAM,QAAQ;YAAU,QAAQ;YAAU,UAAU;YAAM,OAAO;QAAK;QACzJ;YAAE,IAAI;YAAG,UAAU;YAAG,QAAQ;YAAoB,QAAQ;YAAG,QAAQ;YAAG,OAAO;YAAM,QAAQ;YAAU,QAAQ;YAAU,UAAU;YAAM,OAAO;QAAK;KAEtJ;IAED,iBAAiB;IACjB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EACpB,IAAM;YACJ;gBAAE,aAAa;gBAAM,QAAQ;gBAAM,MAAM;YAAG;YAC5C;gBAAE,aAAa;gBAAY,QAAQ;gBAAa,MAAM;YAAI;YAC1D;gBAAE,aAAa;gBAAU,QAAQ;gBAAc,MAAM;YAAI;YACzD;gBAAE,aAAa;gBAAU,QAAQ;gBAAgB,MAAM;YAAI;YAC3D;gBAAE,aAAa;gBAAU,QAAQ;gBAAgB,MAAM;YAAI;YAC3D;gBAAE,aAAa;gBAAS,QAAQ;gBAAU,MAAM;YAAI;YACpD;gBAAE,aAAa;gBAAU,QAAQ;gBAAU,MAAM;YAAI;YACrD;gBAAE,aAAa;gBAAU,QAAQ;gBAAU,MAAM;YAAI;YACrD;gBAAE,aAAa;gBAAY,QAAQ;gBAAY,MAAM;YAAI;YACzD;gBAAE,aAAa;gBAAS,QAAQ;gBAAW,MAAM;YAAI;SACtD,EACD,EAAE;IAGJ,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,kKAAA,CAAA,qBAAkB;YACjB,SAAS;YACT,MAAM;YACN,oBAAoB;YACpB,oBAAoB;YACpB,aAAa;YACb,gBAAgB;YAChB,gBAAgB;YAChB,gBAAgB;YAChB,kBAAkB;YAClB,mBAAmB;YACnB,cAAc;gBACZ,SAAS;gBACT,YAAY;oBAAE,UAAU;oBAAI,WAAW;gBAAE;YAC3C;YACA,wBAAwB;gBACtB,IAAI;oBAAE,WAAW;gBAAQ;YAC3B;YACA,+BAA+B,kBAC7B,8OAAC,wLAAA,CAAA,MAAG;oBAAC,IAAI;wBAAE,SAAS;wBAAQ,KAAK;wBAAQ,YAAY;oBAAS;;sCAC5D,8OAAC;4BAAG,WAAU;sCAAwB;;;;;;sCACtC,8OAAC,6MAAA,CAAA,aAAU;4BAAC,SAAS,IAAM,QAAQ,GAAG,CAAC;sCACrC,cAAA,8OAAC,4JAAA,CAAA,UAAO;;;;;;;;;;;;;;;;YAId,oBAAoB;gBAClB,WAAW;gBACX,IAAI;oBACF,cAAc;oBACd,QAAQ;gBACV;YACF;;;;;;;;;;;AAIR","debugId":null}},
    {"offset": {"line": 887, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/panels/FeaturePanel.tsx"],"sourcesContent":["// src/components/panels/FeaturePanel.tsx\r\n\"use client\";\r\n\r\nimport Papa from \"papaparse\";\r\nimport { ChangeEvent, useEffect } from \"react\";\r\nimport { useData } from \"@/context/DataContext\";\r\nimport { useTool } from \"@/context/ToolContext\";\r\n\r\ninterface EchosounderPoint {\r\n  jarak: number;\r\n  kedalaman: number;\r\n}\r\n\r\ninterface FeaturePanelProps {\r\n  activePanel: \"rute\" | \"interpolasi\" | \"sbn\" | \"echosounder\";\r\n  close: () => void;\r\n}\r\n\r\nexport default function FeaturePanel({ activePanel, close }: FeaturePanelProps) {\r\n  const { echosounderData, setEchosounderData, addFeature } = useData();\r\n  const { setShowSidebarRight } = useTool();\r\n\r\n  // --- Muat data echosounder dari backend saat komponen mount ---\r\n  useEffect(() => {\r\n    // Opsional: ambil dari backend jika ada data sebelumnya\r\n    // Misal: fetch dari spatialFeatures dengan layerType = \"echosounder\"\r\n  }, []);\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.currentTarget);\r\n    const jarak = parseFloat(formData.get(\"jarak\") as string);\r\n    const kedalaman = parseFloat(formData.get(\"kedalaman\") as string);\r\n\r\n    if (isNaN(jarak) || isNaN(kedalaman)) {\r\n      alert(\"Jarak dan kedalaman harus berupa angka.\");\r\n      return;\r\n    }\r\n\r\n    // Buat GeoJSON Point\r\n    const pointFeature = {\r\n      type: \"Point\",\r\n      coordinates: [104.76 + jarak * 0.0001, -2.98 + jarak * 0.0001], // Simulasi koordinat berdasarkan jarak\r\n    };\r\n\r\n    // Simpan ke backend\r\n    try {\r\n      await addFeature({\r\n        type: \"Feature\",\r\n        properties: {\r\n          layerType: \"echosounder\",\r\n          jarak,\r\n          kedalaman,\r\n          name: `Titik ${echosounderData.length + 1}`,\r\n        },\r\n        geometry: pointFeature,\r\n      });\r\n\r\n      // Update state lokal\r\n      setEchosounderData((prev) => [...(Array.isArray(prev) ? prev : []), { jarak, kedalaman }]);\r\n    } catch (err) {\r\n      console.error(\"Gagal simpan titik echosounder:\", err);\r\n      alert(\"Gagal menyimpan ke server.\");\r\n    }\r\n\r\n    e.currentTarget.reset();\r\n  };\r\n\r\n  const handleCSVUpload = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    Papa.parse(file, {\r\n      header: true,\r\n      skipEmptyLines: true,\r\n      complete: async (results) => {\r\n        const parsed = results.data as { jarak?: string; kedalaman?: string }[];\r\n\r\n        const cleaned = parsed\r\n          .map((row, index) => ({\r\n            jarak: parseFloat(row.jarak ?? \"\"),\r\n            kedalaman: parseFloat(row.kedalaman ?? \"\"),\r\n          }))\r\n          .filter((d) => !isNaN(d.jarak) && !isNaN(d.kedalaman));\r\n\r\n        if (cleaned.length === 0) {\r\n          alert(\"Tidak ada data valid dalam file CSV.\");\r\n          return;\r\n        }\r\n\r\n        // Simpan semua titik ke backend\r\n        const savePromises = cleaned.map(async (d, index) => {\r\n          const pointFeature = {\r\n            type: \"Point\",\r\n            coordinates: [104.76 + d.jarak * 0.0001, -2.98 + d.jarak * 0.0001],\r\n          };\r\n\r\n          try {\r\n            await addFeature({\r\n              type: \"Feature\",\r\n              properties: {\r\n                layerType: \"echosounder\",\r\n                jarak: d.jarak,\r\n                kedalaman: d.kedalaman,\r\n                name: `CSV-${index + 1}`,\r\n              },\r\n              geometry: pointFeature,\r\n            });\r\n          } catch (err) {\r\n            console.error(`Gagal simpan titik ${index + 1}:`, err);\r\n          }\r\n        });\r\n\r\n        await Promise.all(savePromises);\r\n\r\n        // Update state lokal\r\n        setEchosounderData(cleaned);\r\n        alert(`Berhasil mengunggah ${cleaned.length} titik dari CSV.`);\r\n      },\r\n      error: (err) => {\r\n        alert(\"Gagal memuat file CSV: \" + err.message);\r\n      },\r\n    });\r\n  };\r\n\r\n  const dataToDisplay = Array.isArray(echosounderData) ? echosounderData : [];\r\n\r\n  return (\r\n    <div className=\"absolute top-4 left-1/2 -translate-x-1/2 w-[400px] bg-white rounded-xl shadow-lg p-4 z-50 overflow-auto max-h-[80vh]\">\r\n      {/* Header Panel */}\r\n      <div className=\"flex justify-between items-center mb-3\">\r\n        <h3 className=\"text-lg font-bold text-slate-800\">\r\n          {\r\n            {\r\n              rute: \"Input Data Rute Survey\",\r\n              interpolasi: \"Interpolasi Data Batimetri\",\r\n              sbn: \"Sarana Bantu Navigasi\",\r\n              echosounder: \"Visualisasi Echosounder\",\r\n            }[activePanel]\r\n          }\r\n        </h3>\r\n        <button onClick={close} className=\"text-red-500 hover:underline text-sm\">\r\n          Tutup\r\n        </button>\r\n      </div>\r\n\r\n      {/* Konten khusus untuk Echosounder */}\r\n      {activePanel === \"echosounder\" && (\r\n        <div>\r\n          <p className=\"text-sm text-gray-700 mb-3\">\r\n            Masukkan data pengukuran kedalaman (<i>echosounder</i>) secara manual atau unggah melalui file CSV.\r\n          </p>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-3 mb-4\">\r\n            <div className=\"flex flex-col\">\r\n              <label htmlFor=\"jarak\" className=\"text-sm text-slate-700 font-medium mb-1\">\r\n                Jarak (meter)\r\n              </label>\r\n              <input id=\"jarak\" name=\"jarak\" type=\"number\" step=\"any\" required className=\"border border-gray-300 rounded px-3 py-2 text-sm text-slate-800 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\r\n            </div>\r\n\r\n            <div className=\"flex flex-col\">\r\n              <label htmlFor=\"kedalaman\" className=\"text-sm text-slate-700 font-medium mb-1\">\r\n                Kedalaman (meter)\r\n              </label>\r\n              <input id=\"kedalaman\" name=\"kedalaman\" type=\"number\" step=\"any\" required className=\"border border-gray-300 rounded px-3 py-2 text-sm text-slate-800 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\r\n            </div>\r\n\r\n            <button type=\"submit\" className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-500 text-sm w-full\">\r\n              Tambahkan Titik Pengukuran\r\n            </button>\r\n          </form>\r\n\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-xs text-gray-500 mb-1 italic\">\r\n              Atau unggah file CSV dengan format: <code>jarak,kedalaman</code>\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              accept=\".csv\"\r\n              onChange={handleCSVUpload}\r\n              className=\"text-sm text-gray-700 block w-full border border-gray-300 rounded p-2 bg-white file:mr-2 file:py-1 file:px-3 file:border file:border-gray-300 file:bg-gray-100 file:text-sm file:text-gray-700\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-4 max-h-48 overflow-y-auto border border-gray-300 rounded p-2 bg-gray-50 text-sm\">\r\n            {dataToDisplay.length === 0 ? (\r\n              <p className=\"text-gray-400 italic\">Belum ada data dimasukkan.</p>\r\n            ) : (\r\n              dataToDisplay.map((d, i) => (\r\n                <div key={i} className=\"text-gray-800\">\r\n                  {i + 1}. Jarak: <strong>{d.jarak.toFixed(2)} m</strong>, Kedalaman: <strong>{d.kedalaman.toFixed(2)} m</strong>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          <button\r\n            onClick={() => {\r\n              setShowSidebarRight(true);\r\n              close();\r\n            }}\r\n            className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-500 text-sm w-full\"\r\n          >\r\n            üìà Proses dan Tampilkan Penampang\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,yCAAyC;;;;;AAGzC;AACA;AACA;AACA;AALA;;;;;;AAiBe,SAAS,aAAa,EAAE,WAAW,EAAE,KAAK,EAAqB;IAC5E,MAAM,EAAE,eAAe,EAAE,kBAAkB,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IAClE,MAAM,EAAE,mBAAmB,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IAEtC,iEAAiE;IACjE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;IACR,wDAAwD;IACxD,qEAAqE;IACvE,GAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,WAAW,IAAI,SAAS,EAAE,aAAa;QAC7C,MAAM,QAAQ,WAAW,SAAS,GAAG,CAAC;QACtC,MAAM,YAAY,WAAW,SAAS,GAAG,CAAC;QAE1C,IAAI,MAAM,UAAU,MAAM,YAAY;YACpC,MAAM;YACN;QACF;QAEA,qBAAqB;QACrB,MAAM,eAAe;YACnB,MAAM;YACN,aAAa;gBAAC,SAAS,QAAQ;gBAAQ,CAAC,OAAO,QAAQ;aAAO;QAChE;QAEA,oBAAoB;QACpB,IAAI;YACF,MAAM,WAAW;gBACf,MAAM;gBACN,YAAY;oBACV,WAAW;oBACX;oBACA;oBACA,MAAM,CAAC,MAAM,EAAE,gBAAgB,MAAM,GAAG,GAAG;gBAC7C;gBACA,UAAU;YACZ;YAEA,qBAAqB;YACrB,mBAAmB,CAAC,OAAS;uBAAK,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;oBAAG;wBAAE;wBAAO;oBAAU;iBAAE;QAC3F,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,mCAAmC;YACjD,MAAM;QACR;QAEA,EAAE,aAAa,CAAC,KAAK;IACvB;IAEA,MAAM,kBAAkB,CAAC;QACvB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,sIAAA,CAAA,UAAI,CAAC,KAAK,CAAC,MAAM;YACf,QAAQ;YACR,gBAAgB;YAChB,UAAU,OAAO;gBACf,MAAM,SAAS,QAAQ,IAAI;gBAE3B,MAAM,UAAU,OACb,GAAG,CAAC,CAAC,KAAK,QAAU,CAAC;wBACpB,OAAO,WAAW,IAAI,KAAK,IAAI;wBAC/B,WAAW,WAAW,IAAI,SAAS,IAAI;oBACzC,CAAC,GACA,MAAM,CAAC,CAAC,IAAM,CAAC,MAAM,EAAE,KAAK,KAAK,CAAC,MAAM,EAAE,SAAS;gBAEtD,IAAI,QAAQ,MAAM,KAAK,GAAG;oBACxB,MAAM;oBACN;gBACF;gBAEA,gCAAgC;gBAChC,MAAM,eAAe,QAAQ,GAAG,CAAC,OAAO,GAAG;oBACzC,MAAM,eAAe;wBACnB,MAAM;wBACN,aAAa;4BAAC,SAAS,EAAE,KAAK,GAAG;4BAAQ,CAAC,OAAO,EAAE,KAAK,GAAG;yBAAO;oBACpE;oBAEA,IAAI;wBACF,MAAM,WAAW;4BACf,MAAM;4BACN,YAAY;gCACV,WAAW;gCACX,OAAO,EAAE,KAAK;gCACd,WAAW,EAAE,SAAS;gCACtB,MAAM,CAAC,IAAI,EAAE,QAAQ,GAAG;4BAC1B;4BACA,UAAU;wBACZ;oBACF,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,CAAC,mBAAmB,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE;oBACpD;gBACF;gBAEA,MAAM,QAAQ,GAAG,CAAC;gBAElB,qBAAqB;gBACrB,mBAAmB;gBACnB,MAAM,CAAC,oBAAoB,EAAE,QAAQ,MAAM,CAAC,gBAAgB,CAAC;YAC/D;YACA,OAAO,CAAC;gBACN,MAAM,4BAA4B,IAAI,OAAO;YAC/C;QACF;IACF;IAEA,MAAM,gBAAgB,MAAM,OAAO,CAAC,mBAAmB,kBAAkB,EAAE;IAE3E,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAEV;4BACE,MAAM;4BACN,aAAa;4BACb,KAAK;4BACL,aAAa;wBACf,CAAC,CAAC,YAAY;;;;;;kCAGlB,8OAAC;wBAAO,SAAS;wBAAO,WAAU;kCAAuC;;;;;;;;;;;;YAM1E,gBAAgB,+BACf,8OAAC;;kCACC,8OAAC;wBAAE,WAAU;;4BAA6B;0CACJ,8OAAC;0CAAE;;;;;;4BAAe;;;;;;;kCAGxD,8OAAC;wBAAK,UAAU;wBAAc,WAAU;;0CACtC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAM,SAAQ;wCAAQ,WAAU;kDAA0C;;;;;;kDAG3E,8OAAC;wCAAM,IAAG;wCAAQ,MAAK;wCAAQ,MAAK;wCAAS,MAAK;wCAAM,QAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAG7E,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAM,SAAQ;wCAAY,WAAU;kDAA0C;;;;;;kDAG/E,8OAAC;wCAAM,IAAG;wCAAY,MAAK;wCAAY,MAAK;wCAAS,MAAK;wCAAM,QAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAGrF,8OAAC;gCAAO,MAAK;gCAAS,WAAU;0CAA4E;;;;;;;;;;;;kCAK9G,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,WAAU;;oCAA0C;kDACrB,8OAAC;kDAAK;;;;;;;;;;;;0CAE5C,8OAAC;gCACC,MAAK;gCACL,QAAO;gCACP,UAAU;gCACV,WAAU;;;;;;;;;;;;kCAId,8OAAC;wBAAI,WAAU;kCACZ,cAAc,MAAM,KAAK,kBACxB,8OAAC;4BAAE,WAAU;sCAAuB;;;;;mCAEpC,cAAc,GAAG,CAAC,CAAC,GAAG,kBACpB,8OAAC;gCAAY,WAAU;;oCACpB,IAAI;oCAAE;kDAAS,8OAAC;;4CAAQ,EAAE,KAAK,CAAC,OAAO,CAAC;4CAAG;;;;;;;oCAAW;kDAAa,8OAAC;;4CAAQ,EAAE,SAAS,CAAC,OAAO,CAAC;4CAAG;;;;;;;;+BAD5F;;;;;;;;;;kCAOhB,8OAAC;wBACC,SAAS;4BACP,oBAAoB;4BACpB;wBACF;wBACA,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 1250, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/utils/BasemapSwitcher.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ntype Props = {\r\n  onChange: (type: string) => void;\r\n  current: string;\r\n  defaultPosition?: { x: number; y: number };\r\n};\r\n\r\nexport default function BasemapSwitcher({ onChange, current, defaultPosition }: Props) {\r\n  const basemaps = [\r\n    { id: \"osm\", label: \"OSM\", icon: \"/icons/map1.png\" },\r\n    { id: \"satellite\", label: \"Satellite\", icon: \"/icons/map2.png\" },\r\n    { id: \"terrain\", label: \"Terrain\", icon: \"/icons/map3.png\" },\r\n  ];\r\n\r\n  const active = basemaps.find((b) => b.id === current) || basemaps[0];\r\n\r\n  const panelRef = useRef<HTMLDivElement>(null);\r\n  const dragRef = useRef<HTMLDivElement>(null);\r\n  const isDragging = useRef(false);\r\n  const offset = useRef({ x: 0, y: 0 });\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const [position, setPosition] = useState<{ x: number; y: number }>(() => {\r\n    if (defaultPosition) return defaultPosition;\r\n    if (typeof window !== \"undefined\") {\r\n      const bottomPadding = 100; // default offset above location button\r\n      return { x: 20, y: window.innerHeight - bottomPadding };\r\n    }\r\n    return { x: 1900, y: 3000 }; // fallback\r\n  });\r\n\r\n  // Click outside to close\r\n  useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (panelRef.current && !panelRef.current.contains(event.target as Node)) {\r\n        setOpen(false);\r\n      }\r\n    }\r\n\r\n    if (open) {\r\n      document.addEventListener(\"mousedown\", handleClickOutside);\r\n    }\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [open]);\r\n\r\n  // Drag logic\r\n  useEffect(() => {\r\n    function handleMouseMove(e: MouseEvent) {\r\n      if (!isDragging.current) return;\r\n      setPosition({\r\n        x: e.clientX - offset.current.x,\r\n        y: e.clientY - offset.current.y,\r\n      });\r\n    }\r\n\r\n    function handleMouseUp() {\r\n      isDragging.current = false;\r\n    }\r\n\r\n    window.addEventListener(\"mousemove\", handleMouseMove);\r\n    window.addEventListener(\"mouseup\", handleMouseUp);\r\n    return () => {\r\n      window.removeEventListener(\"mousemove\", handleMouseMove);\r\n      window.removeEventListener(\"mouseup\", handleMouseUp);\r\n    };\r\n  }, []);\r\n\r\n  function handleMouseDown(e: React.MouseEvent) {\r\n    if (!dragRef.current) return;\r\n    isDragging.current = true;\r\n    const rect = dragRef.current.getBoundingClientRect();\r\n    offset.current = {\r\n      x: e.clientX - rect.left,\r\n      y: e.clientY - rect.top,\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div ref={dragRef} className=\"fixed z-[999] cursor-grab\" style={{ top: position.y, left: position.x }} onMouseDown={handleMouseDown}>\r\n      <div ref={panelRef} className=\"relative\">\r\n        <button onClick={() => setOpen(!open)} className=\"bg-white/90 p-1 rounded-full border shadow hover:scale-105 transition\" title=\"Pilih Basemap\">\r\n          <Image src={active.icon} alt={active.label} width={40} height={40} />\r\n        </button>\r\n\r\n        <AnimatePresence>\r\n          {open && (\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.8, x: -30, y: -10 }}\r\n              animate={{ opacity: 1, scale: 1, x: 0, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.8, x: -30, y: -10 }}\r\n              transition={{ duration: 0.2 }}\r\n              className=\"absolute right-0 top-0 mt-3 mr-2 bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg ring-1 ring-black/5 p-1 flex flex-row gap-1\"\r\n            >\r\n              {basemaps.map((base) => (\r\n                <button\r\n                  key={base.id}\r\n                  onClick={() => {\r\n                    onChange(base.id);\r\n                    setOpen(false);\r\n                  }}\r\n                  className={`flex flex-col items-center justify-center px-2 py-1.5 rounded-xl hover:bg-cyan-50 transition-all duration-200 ${current === base.id ? \"bg-cyan-100 font-semibold\" : \"\"}`}\r\n                >\r\n                  <div className=\"w-6 h-6 relative\">\r\n                    <Image src={base.icon} alt={base.label} fill className=\"object-contain\" />\r\n                  </div>\r\n                  <span className=\"text-[10px] text-gray-700 mt-1 leading-none\">{base.label}</span>\r\n                </button>\r\n              ))}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1465, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/PanelToggler.tsx"],"sourcesContent":["import { LayoutPanelLeft, LayoutPanelTop } from \"lucide-react\";\r\nimport { MdViewSidebar } from \"react-icons/md\";\r\n\r\ninterface PanelTogglerProps {\r\n  onToggleLeft: () => void;\r\n  onToggleRight: () => void;\r\n  onToggleBottom: () => void;\r\n}\r\n\r\nexport default function PanelToggler({ onToggleLeft, onToggleRight, onToggleBottom }: PanelTogglerProps) {\r\n  return (\r\n    <div className=\"absolute top-4 right-4 z-30 flex flex-col gap-2\">\r\n      <button onClick={onToggleLeft} className=\"bg-white/70 backdrop-blur border border-gray-300 rounded-lg shadow p-2 hover:bg-white transition\" title=\"Toggle Sidebar Kiri\" aria-label=\"Toggle Sidebar Kiri\">\r\n        <LayoutPanelLeft className=\"w-5 h-5 text-gray-700\" />\r\n      </button>\r\n\r\n      <button onClick={onToggleRight} className=\"bg-white/70 backdrop-blur border border-gray-300 rounded-lg shadow p-2 hover:bg-white transition\" title=\"Toggle Sidebar Kanan\" aria-label=\"Toggle Sidebar Kanan\">\r\n        <MdViewSidebar className=\"w-5 h-5 text-gray-700 rotate-180\" />\r\n      </button>\r\n\r\n      <button onClick={onToggleBottom} className=\"bg-white/70 backdrop-blur border border-gray-300 rounded-lg shadow p-2 hover:bg-white transition\" title=\"Toggle Panel Bawah\" aria-label=\"Toggle Panel Bawah\">\r\n        <LayoutPanelTop className=\"w-5 h-5 text-gray-700 rotate-180\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;;AAQe,SAAS,aAAa,EAAE,YAAY,EAAE,aAAa,EAAE,cAAc,EAAqB;IACrG,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,SAAS;gBAAc,WAAU;gBAAmG,OAAM;gBAAsB,cAAW;0BACjL,cAAA,8OAAC,gOAAA,CAAA,kBAAe;oBAAC,WAAU;;;;;;;;;;;0BAG7B,8OAAC;gBAAO,SAAS;gBAAe,WAAU;gBAAmG,OAAM;gBAAuB,cAAW;0BACnL,cAAA,8OAAC,8IAAA,CAAA,gBAAa;oBAAC,WAAU;;;;;;;;;;;0BAG3B,8OAAC;gBAAO,SAAS;gBAAgB,WAAU;gBAAmG,OAAM;gBAAqB,cAAW;0BAClL,cAAA,8OAAC,8NAAA,CAAA,iBAAc;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIlC","debugId":null}},
    {"offset": {"line": 1543, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/SamplingBottomSidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useTool } from \"@/context/ToolContext\";\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  onClose?: () => void;\r\n}\r\n\r\nexport default function SamplingBottomSidebar({ visible, onClose }: Props) {\r\n  const { samplingPoints = [], samplingSummary, samplingUpdatedAt } = useTool();\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (visible && samplingUpdatedAt) {\r\n      setShowSuccess(true);\r\n      const timer = setTimeout(() => setShowSuccess(false), 3000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [samplingUpdatedAt, visible]);\r\n\r\n  if (!visible || !samplingSummary) return null;\r\n\r\n  const { panjang, kedalamanAvg, lebarAvg, jumlahTitik } = samplingSummary;\r\n\r\n  return (\r\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-blue-500 p-4 z-[999] shadow-lg text-gray-900\">\r\n      <div className=\"max-w-5xl mx-auto text-sm\">\r\n        <div className=\"flex justify-between items-center mb-2\">\r\n          <h3 className=\"font-semibold text-base text-gray-900\">üß™ Informasi Sampling</h3>\r\n          {onClose && (\r\n            <button className=\"text-sm text-red-600 hover:underline\" onClick={onClose}>\r\n              ‚ùå Tutup\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {showSuccess && <div className=\"mb-3 text-green-800 bg-green-100 border border-green-300 px-4 py-2 rounded-md animate-fade-in\">‚úÖ Sampling berhasil dibuat!</div>}\r\n\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4 text-gray-800\">\r\n          <div>\r\n            üìè Panjang Sungai: <strong className=\"text-black\">{Number.isFinite(panjang) ? panjang.toFixed(2) : \"-\"}</strong> m\r\n          </div>\r\n          <div>\r\n            üåä Kedalaman Rata-rata: <strong className=\"text-black\">{Number.isFinite(kedalamanAvg) ? kedalamanAvg.toFixed(1) : \"-\"}</strong> m\r\n          </div>\r\n          <div>\r\n            üìê Lebar Rata-rata: <strong className=\"text-black\">{Number.isFinite(lebarAvg) ? lebarAvg.toFixed(1) : \"-\"}</strong> m\r\n          </div>\r\n          <div>\r\n            üéØ Jumlah Titik: <strong className=\"text-black\">{jumlahTitik ?? \"-\"}</strong>\r\n          </div>\r\n        </div>\r\n\r\n        {Array.isArray(samplingPoints) && samplingPoints.length > 0 && (\r\n          <details className=\"mt-3\">\r\n            <summary className=\"cursor-pointer text-blue-700 hover:underline\">üîò Lihat 5 koordinat pertama</summary>\r\n            <ol className=\"list-decimal list-inside mt-2 max-h-32 overflow-y-auto text-xs bg-gray-100 p-2 rounded text-gray-800\">\r\n              {samplingPoints.slice(0, 5).map((pt, i) => {\r\n                const [lng, lat] = pt?.geometry?.coordinates ?? [null, null];\r\n                return <li key={i}>{lat != null && lng != null ? `${lat.toFixed(5)}, ${lng.toFixed(5)}` : \"Koordinat tidak tersedia\"}</li>;\r\n              })}\r\n            </ol>\r\n          </details>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAUe,SAAS,sBAAsB,EAAE,OAAO,EAAE,OAAO,EAAS;IACvE,MAAM,EAAE,iBAAiB,EAAE,EAAE,eAAe,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IAC1E,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,WAAW,mBAAmB;YAChC,eAAe;YACf,MAAM,QAAQ,WAAW,IAAM,eAAe,QAAQ;YACtD,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC;QAAmB;KAAQ;IAE/B,IAAI,CAAC,WAAW,CAAC,iBAAiB,OAAO;IAEzC,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG;IAEzD,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAwC;;;;;;wBACrD,yBACC,8OAAC;4BAAO,WAAU;4BAAuC,SAAS;sCAAS;;;;;;;;;;;;gBAM9E,6BAAe,8OAAC;oBAAI,WAAU;8BAAgG;;;;;;8BAE/H,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;gCAAI;8CACgB,8OAAC;oCAAO,WAAU;8CAAc,OAAO,QAAQ,CAAC,WAAW,QAAQ,OAAO,CAAC,KAAK;;;;;;gCAAa;;;;;;;sCAElH,8OAAC;;gCAAI;8CACqB,8OAAC;oCAAO,WAAU;8CAAc,OAAO,QAAQ,CAAC,gBAAgB,aAAa,OAAO,CAAC,KAAK;;;;;;gCAAa;;;;;;;sCAEjI,8OAAC;;gCAAI;8CACiB,8OAAC;oCAAO,WAAU;8CAAc,OAAO,QAAQ,CAAC,YAAY,SAAS,OAAO,CAAC,KAAK;;;;;;gCAAa;;;;;;;sCAErH,8OAAC;;gCAAI;8CACc,8OAAC;oCAAO,WAAU;8CAAc,eAAe;;;;;;;;;;;;;;;;;;gBAInE,MAAM,OAAO,CAAC,mBAAmB,eAAe,MAAM,GAAG,mBACxD,8OAAC;oBAAQ,WAAU;;sCACjB,8OAAC;4BAAQ,WAAU;sCAA+C;;;;;;sCAClE,8OAAC;4BAAG,WAAU;sCACX,eAAe,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,IAAI;gCACnC,MAAM,CAAC,KAAK,IAAI,GAAG,IAAI,UAAU,eAAe;oCAAC;oCAAM;iCAAK;gCAC5D,qBAAO,8OAAC;8CAAY,OAAO,QAAQ,OAAO,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,OAAO,CAAC,IAAI,GAAG;mCAA1E;;;;;4BAClB;;;;;;;;;;;;;;;;;;;;;;;AAOd","debugId":null}},
    {"offset": {"line": 1742, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/app/map/page-inner.tsx"],"sourcesContent":["// src/app/map/page-inner.tsx\r\n\"use client\"; // 1. Pastikan ini adalah Client Component\r\n\r\nimport dynamic from \"next/dynamic\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport HeaderBar from \"@/components/HeaderBar\";\r\nimport SidebarLeft from \"@/components/SidebarLeft\";\r\nimport SidebarRight from \"@/components/SidebarRight\";\r\nimport BottomPanel from \"@/components/BottomPanel\";\r\nimport FeaturePanel from \"@/components/panels/FeaturePanel\";\r\n// 2. Perbaiki path import BasemapSwitcher jika diperlukan\r\n//    (jika file dipindah ke folder components/utils/)\r\nimport BasemapSwitcher from \"@/components/utils/BasemapSwitcher\";\r\nimport PanelToggler from \"@/components/PanelToggler\";\r\nimport SamplingBottomSidebar from \"@/components/SamplingBottomSidebar\";\r\nimport { useTool } from \"@/context/ToolContext\"; // 3. Gunakan ToolContext untuk state tools/UI\r\n// 4. Impor useData untuk memastikan SidebarRight bisa mengakses echosounderData jika diperlukan\r\n//    (meskipun dalam implementasi terbaru SidebarRight langsung menggunakan useData,\r\n//     mengimpornya di sini tidak merugikan dan bisa memberikan gambaran ketergantungan)\r\n// import { useData } from \"@/context/DataContext\";\r\nimport { Map } from \"leaflet\";\r\n// 5. HAPUS import SimulasiPanel dan ToponimiFormModal dari sini karena akan dihandle MapComponent\r\n// import SimulasiPanel from \"@/components/panels/SimulasiPanel\";\r\n// import ToponimiFormModal from \"@/components/forms/ToponimiFormModal\";\r\n// import type { Tool } from \"@/context/ToolContext\"; // Tidak digunakan secara langsung di sini\r\n\r\n// 6. Impor MapComponent secara dinamis untuk menghindari masalah SSR dengan Leaflet\r\nconst MapComponent = dynamic(() => import(\"@/components/map/MapComponent\"), {\r\n  ssr: false,\r\n});\r\n\r\nexport default function MapPageInner() {\r\n  const [latlng, setLatLng] = useState<[number, number]>([0, 0]);\r\n  const [userLocation, setUserLocation] = useState<[number, number] | null>(null);\r\n  const [basemapType, setBasemapType] = useState(\"osm\");\r\n\r\n  const [leftVisible, setLeftVisible] = useState(true);\r\n  const [bottomVisible, setBottomVisible] = useState(false);\r\n  const [bottomHeight, setBottomHeight] = useState(300);\r\n  const [rightWidth, setRightWidth] = useState(384);\r\n  const [showSamplingInfo, setShowSamplingInfo] = useState(false);\r\n\r\n  const mapRef = useRef<Map | null>(null);\r\n\r\n  // 7. Gunakan state dan fungsi dari ToolContext\r\n  const { showSidebarRight, setShowSidebarRight, samplingUpdatedAt, activeTool, setActiveTool } = useTool();\r\n  // 8. Gunakan state dan fungsi dari DataContext jika diperlukan di level ini\r\n  // const { features, loading, error } = useData();\r\n\r\n  // 9. Efek untuk menampilkan SamplingBottomSidebar saat sampling selesai\r\n  useEffect(() => {\r\n    if (samplingUpdatedAt) {\r\n      setShowSamplingInfo(true);\r\n    }\r\n  }, [samplingUpdatedAt]);\r\n\r\n  // 10. Efek untuk memperbarui ukuran peta saat panel diubah\r\n  useEffect(() => {\r\n    if (mapRef.current) {\r\n      // Timeout kecil untuk memastikan DOM sudah diperbarui\r\n      setTimeout(() => {\r\n        mapRef.current?.invalidateSize();\r\n      }, 300);\r\n    }\r\n  }, [leftVisible, showSidebarRight, bottomVisible, bottomHeight, rightWidth]);\r\n\r\n  // 11. Fungsi untuk mendapatkan lokasi pengguna\r\n  const handleLocateMe = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const { latitude, longitude } = position.coords;\r\n          setUserLocation([latitude, longitude]);\r\n          // 12. Fokuskan peta ke lokasi pengguna\r\n          mapRef.current?.setView([latitude, longitude], 14);\r\n        },\r\n        (error) => {\r\n          alert(\"Gagal mendapatkan lokasi: \" + error.message);\r\n        }\r\n      );\r\n    } else {\r\n      alert(\"Geolocation tidak didukung di browser ini.\");\r\n    }\r\n  };\r\n\r\n  // 13. Fungsi untuk menangani proses echosounder (membuka sidebar kanan)\r\n  //     Fungsi ini dikirim ke FeaturePanel sebagai prop 'onEchosounderProses'.\r\n  //     Namun, karena FeaturePanel sekarang bisa langsung menggunakan useData\r\n  //     dan memanggil setShowSidebarRight, prop ini mungkin tidak terlalu diperlukan lagi.\r\n  //     Tapi kita tetap pertahankan untuk kompatibilitas atau jika ada logika tambahan.\r\n  const handleEchosounderProses = () => {\r\n    // 14. Buka sidebar kanan untuk menampilkan hasil echosounder\r\n    //     (Tidak perlu menutup tool, karena FeaturePanel bisa melakukannya sendiri jika perlu)\r\n    // setActiveTool(null); // Opsional, tergantung desain UX\r\n    setShowSidebarRight(true);\r\n  };\r\n\r\n  return (\r\n    <main className=\"flex flex-col h-screen overflow-hidden\">\r\n      {/* 15. Header aplikasi */}\r\n      <HeaderBar />\r\n\r\n      {/* 16. Kontainer utama untuk konten (peta dan panel) */}\r\n      <div className=\"flex flex-1 relative overflow-hidden bg-gray-200\">\r\n        {/* 17. Sidebar kiri */}\r\n        {leftVisible && (\r\n          <div className=\"w-72 bg-white border-r border-gray-200 z-20\">\r\n            <SidebarLeft />\r\n          </div>\r\n        )}\r\n\r\n        {/* 18. Area konten utama (peta) */}\r\n        <div className=\"flex-1 relative h-full overflow-hidden\">\r\n          {/* 19. Komponen peta utama */}\r\n          <div className=\"absolute inset-0 z-0\">\r\n            <MapComponent setLatLng={setLatLng} basemapType={basemapType} mapRef={mapRef} userLocation={userLocation} />\r\n          </div>\r\n\r\n          {/* 20. Sidebar informasi sampling */}\r\n          <SamplingBottomSidebar visible={showSamplingInfo} onClose={() => setShowSamplingInfo(false)} />\r\n\r\n          {/* 21. Koordinat mouse di pojok kiri bawah */}\r\n          <div className=\"absolute bottom-2 left-2 bg-blue-500 text-xs px-3 py-1 rounded shadow text-white z-10\">\r\n            Lat: {latlng[0].toFixed(5)}, Lng: {latlng[1].toFixed(5)}\r\n          </div>\r\n\r\n          {/* 22. Tombol lokasi pengguna di pojok kanan bawah */}\r\n          <div className=\"absolute bottom-32 right-2 z-10\">\r\n            <button onClick={handleLocateMe} className=\"bg-blue-600 text-white p-3 rounded-full shadow-xl hover:bg-blue-700 transition-all duration-200 hover:scale-110 relative\" title=\"Lokasi Saya\">\r\n              {/* Pulse Animation */}\r\n              <div className=\"absolute inset-0 rounded-full bg-blue-600 animate-ping opacity-75\"></div>\r\n\r\n              <div className=\"relative z-10\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                  <path fillRule=\"evenodd\" d=\"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          {/* 23. Switcher basemap */}\r\n          <BasemapSwitcher onChange={setBasemapType} current={basemapType} defaultPosition={{ x: 1810, y: 210 }} />\r\n\r\n          {/* 24. === FEATURE PANEL === */}\r\n          {/* Perbarui props yang dikirim ke FeaturePanel */}\r\n          {/* Hapus prop 'onEchosounderProses' jika FeaturePanel tidak memerlukannya lagi */}\r\n          {/* Tambahkan prop 'setShowSidebarRight' jika FeaturePanel perlu mengontrol sidebar kanan secara langsung */}\r\n          {activeTool === \"echosounder\" && (\r\n            <FeaturePanel\r\n              activePanel=\"echosounder\"\r\n              close={() => setActiveTool(null)}\r\n              // onEchosounderProses={handleEchosounderProses} // Opsional, bisa dihapus\r\n              // setShowSidebarRight={setShowSidebarRight} // Jika FeaturePanel butuh ini, tambahkan sebagai props\r\n            />\r\n          )}\r\n\r\n          {/* \r\n            25. === SIMULASI PANEL & TOPONIMI FORM MODAL === \r\n            DIHAPUS/KOMENTARI karena akan dihandle oleh MapComponent.\r\n            MapComponent memiliki semua state dan logika yang diperlukan untuk \r\n            membuat SimulasiPanel dan ToponimiFormModal berfungsi dengan benar.\r\n            Mereka tidak lagi dirender secara langsung oleh MapPageInner.\r\n          */}\r\n          {/* \r\n          {activeTool === \"simulasi\" && <SimulasiPanel onGenerate={() => {}} onStartDrawing={() => {}} isDrawing={false} hasLine={false} onDeleteLine={() => {}} onClosePanel={() => setActiveTool(null)} />}\r\n          {activeTool === \"toponimi\" && (\r\n            <ToponimiFormModal\r\n              initialLatLng={latlng}\r\n              onSubmit={(lat, lng, name) => {\r\n                console.log(\"Toponimi submitted:\", { lat, lng, name });\r\n              }}\r\n              onClosePanel={() => setActiveTool(null)}\r\n            />\r\n          )} \r\n          */}\r\n\r\n          {/* 26. Tombol toggle panel */}\r\n          <PanelToggler onToggleLeft={() => setLeftVisible(!leftVisible)} onToggleRight={() => setShowSidebarRight((prev) => !prev)} onToggleBottom={() => setBottomVisible(!bottomVisible)} />\r\n        </div>\r\n\r\n        {/* 27. Sidebar kanan */}\r\n        {showSidebarRight && (\r\n          <>\r\n            {/* 28. Handle untuk mengubah ukuran sidebar kanan */}\r\n            <div\r\n              onMouseDown={(e) => {\r\n                const startX = e.clientX;\r\n                const startWidth = rightWidth;\r\n\r\n                const handleMouseMove = (moveEvent: MouseEvent) => {\r\n                  const newWidth = Math.max(240, startWidth - (moveEvent.clientX - startX));\r\n                  setRightWidth(newWidth);\r\n                };\r\n\r\n                const handleMouseUp = () => {\r\n                  window.removeEventListener(\"mousemove\", handleMouseMove);\r\n                  window.removeEventListener(\"mouseup\", handleMouseUp);\r\n                };\r\n\r\n                window.addEventListener(\"mousemove\", handleMouseMove);\r\n                window.addEventListener(\"mouseup\", handleMouseUp);\r\n              }}\r\n              className=\"w-2 cursor-col-resize bg-gray-300 z-30\"\r\n            />\r\n            <div className=\"bg-white border-l border-gray-200 z-20 h-full overflow-hidden\" style={{ width: `${rightWidth}px` }}>\r\n              <SidebarRight />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* 29. Panel bawah */}\r\n      {bottomVisible && (\r\n        <>\r\n          {/* 30. Handle untuk mengubah ukuran panel bawah */}\r\n          <div\r\n            onMouseDown={(e) => {\r\n              const startY = e.clientY;\r\n              const startHeight = bottomHeight;\r\n\r\n              const handleMouseMove = (moveEvent: MouseEvent) => {\r\n                const newHeight = Math.max(120, startHeight + (startY - moveEvent.clientY));\r\n                setBottomHeight(newHeight);\r\n              };\r\n\r\n              const handleMouseUp = () => {\r\n                window.removeEventListener(\"mousemove\", handleMouseMove);\r\n                window.removeEventListener(\"mouseup\", handleMouseUp);\r\n              };\r\n\r\n              window.addEventListener(\"mousemove\", handleMouseMove);\r\n              window.addEventListener(\"mouseup\", handleMouseUp);\r\n            }}\r\n            className=\"h-2 cursor-row-resize bg-gray-300 z-30\"\r\n          />\r\n          <div className=\"bg-white border-t border-gray-300 z-20 overflow-hidden\" style={{ height: `${bottomHeight}px` }}>\r\n            <BottomPanel />\r\n          </div>\r\n        </>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}