{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/layers/GeoJsonLayer.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { GeoJSON } from \"react-leaflet\";\r\nimport * as L from \"leaflet\";\r\nimport { useTool } from \"@/context/ToolContext\"; // ‚¨ÖÔ∏è Gunakan context (atau ganti sesuai kebutuhan)\r\n\r\ntype Props = {\r\n  url: string;\r\n  popupField: string;\r\n  color?: string;\r\n  radius?: number;\r\n  marker?: boolean;\r\n};\r\n\r\nconst buoyIcon = new L.Icon({\r\n  iconUrl: \"/icons/buoy.png\",\r\n  iconSize: [32, 32],\r\n  iconAnchor: [16, 32],\r\n  popupAnchor: [0, -32],\r\n});\r\n\r\nexport default function GeoJsonLayer({ url, popupField, color = \"#ff0000\", radius = 5, marker = false }: Props) {\r\n  const [data, setData] = useState<any>(null);\r\n  const { setGeojsonData } = useTool(); // ‚¨ÖÔ∏è Ambil setter dari context\r\n\r\n  useEffect(() => {\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        setData(json);\r\n        setGeojsonData(json); // ‚¨ÖÔ∏è Simpan ke context\r\n      })\r\n      .catch((err) => console.error(\"Gagal memuat GeoJSON:\", err));\r\n  }, [url, setGeojsonData]);\r\n\r\n  if (!data) return null;\r\n\r\n  return (\r\n    <GeoJSON\r\n      data={data}\r\n      pointToLayer={(feature, latlng) =>\r\n        marker\r\n          ? L.marker(latlng, { icon: buoyIcon }).bindPopup(`<strong>${feature.properties[popupField]}</strong>`)\r\n          : L.circleMarker(latlng, {\r\n              radius,\r\n              fillColor: color,\r\n              color,\r\n              weight: 1,\r\n              fillOpacity: 0.8,\r\n            }).bindPopup(`${popupField}: ${feature.properties[popupField]}`)\r\n      }\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA,oOAAiD,mDAAmD;;;;;;;AAUpG,MAAM,WAAW,IAAI,oJAAA,CAAA,OAAM,CAAC;IAC1B,SAAS;IACT,UAAU;QAAC;QAAI;KAAG;IAClB,YAAY;QAAC;QAAI;KAAG;IACpB,aAAa;QAAC;QAAG,CAAC;KAAG;AACvB;AAEe,SAAS,aAAa,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,SAAS,EAAE,SAAS,CAAC,EAAE,SAAS,KAAK,EAAS;;IAC5G,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAO;IACtC,MAAM,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD,KAAK,+BAA+B;IAErE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,KACH,IAAI;0CAAC,CAAC,MAAQ,IAAI,IAAI;yCACtB,IAAI;0CAAC,CAAC;oBACL,QAAQ;oBACR,eAAe,OAAO,uBAAuB;gBAC/C;yCACC,KAAK;0CAAC,CAAC,MAAQ,QAAQ,KAAK,CAAC,yBAAyB;;QAC3D;iCAAG;QAAC;QAAK;KAAe;IAExB,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,6LAAC,qJAAA,CAAA,UAAO;QACN,MAAM;QACN,cAAc,CAAC,SAAS,SACtB,SACI,CAAA,GAAA,oJAAA,CAAA,SAAQ,AAAD,EAAE,QAAQ;gBAAE,MAAM;YAAS,GAAG,SAAS,CAAC,CAAC,QAAQ,EAAE,QAAQ,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,IACnG,CAAA,GAAA,oJAAA,CAAA,eAAc,AAAD,EAAE,QAAQ;gBACrB;gBACA,WAAW;gBACX;gBACA,QAAQ;gBACR,aAAa;YACf,GAAG,SAAS,CAAC,GAAG,WAAW,EAAE,EAAE,QAAQ,UAAU,CAAC,WAAW,EAAE;;;;;;AAI3E;GAhCwB;;QAEK,iIAAA,CAAA,UAAO;;;KAFZ","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/forms/ToponimiFormModal.tsx"],"sourcesContent":["// src/components/forms/ToponimiFormModal.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\ninterface Props {\r\n  latlng: [number, number] | null;\r\n  onClose: () => void;\r\n  onSubmit: (data: { nama: string; deskripsi: string }) => void;\r\n  onCancelMarker: () => void; // tambahan untuk hapus marker\r\n}\r\n\r\nexport default function ToponimiFormModal({ latlng, onClose, onSubmit, onCancelMarker }: Props) {\r\n  const [nama, setNama] = useState(\"\");\r\n  const [deskripsi, setDeskripsi] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (latlng) {\r\n      setNama(\"\");\r\n      setDeskripsi(\"\");\r\n    }\r\n  }, [latlng]);\r\n\r\n  if (!latlng) return null;\r\n\r\n  const handleSubmit = () => {\r\n    if (nama.trim()) {\r\n      onSubmit({ nama, deskripsi });\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleCancelAndClose = () => {\r\n    onCancelMarker(); // hapus marker\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    // Gunakan z-index yang cukup tinggi, misalnya z-50\r\n    // bg-black bg-opacity-30 membuat latar belakang hitam dengan opacity 30%\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white bg-opacity-90 rounded-2xl shadow-xl overflow-hidden w-full max-w-md transform transition-all border border-gray-200\">\r\n        {/* Header Modal */}\r\n        <div className=\"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4\">\r\n          <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n            </svg>\r\n            Tambah Toponimi\r\n          </h2>\r\n          <p className=\"text-blue-100 text-xs mt-1\">\r\n            Koordinat: {latlng[0].toFixed(5)}, {latlng[1].toFixed(5)}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Body Form */}\r\n        <div className=\"p-6 space-y-4\">\r\n          <div>\r\n            <label htmlFor=\"nama-lokasi\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Nama Lokasi\r\n            </label>\r\n            <input\r\n              id=\"nama-lokasi\"\r\n              type=\"text\"\r\n              value={nama}\r\n              onChange={(e) => setNama(e.target.value)}\r\n              placeholder=\"Masukkan nama lokasi\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 text-gray-800 placeholder-gray-400 bg-white bg-opacity-80\"\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Enter\") handleSubmit();\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"deskripsi\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Deskripsi\r\n            </label>\r\n            <textarea\r\n              id=\"deskripsi\"\r\n              value={deskripsi}\r\n              onChange={(e) => setDeskripsi(e.target.value)}\r\n              placeholder=\"Deskripsikan lokasi ini...\"\r\n              rows={3}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 text-gray-800 placeholder-gray-400 resize-none bg-white bg-opacity-80\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer dengan Tombol */}\r\n        <div className=\"bg-gray-50 bg-opacity-70 px-6 py-4 flex justify-between items-center border-t border-gray-200\">\r\n          {/* Tombol Hapus Marker di kiri */}\r\n          <button\r\n            onClick={handleCancelAndClose}\r\n            className=\"flex items-center gap-1 text-sm px-4 py-2 rounded-lg bg-red-500 bg-opacity-90 text-white hover:bg-opacity-100 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400 transition duration-200 shadow hover:shadow-md\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n            </svg>\r\n            Hapus Marker\r\n          </button>\r\n\r\n          {/* Tombol Batal dan Simpan di kanan */}\r\n          <div className=\"flex gap-2\">\r\n            <button onClick={onClose} className=\"text-sm px-4 py-2 rounded-lg bg-gray-200 bg-opacity-80 text-gray-700 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 transition duration-200\">\r\n              Batal\r\n            </button>\r\n            <button\r\n              onClick={handleSubmit}\r\n              disabled={!nama.trim()}\r\n              className={`text-sm px-4 py-2 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 transition duration-200 shadow hover:shadow-md flex items-center gap-1 ${\r\n                nama.trim() ? \"bg-indigo-600 bg-opacity-90 hover:bg-opacity-100 hover:bg-indigo-700\" : \"bg-gray-400 bg-opacity-50 cursor-not-allowed\"\r\n              }`}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n              </svg>\r\n              Simpan\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,6CAA6C;;;;;AAG7C;;;AAFA;;AAWe,SAAS,kBAAkB,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,cAAc,EAAS;;IAC5F,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,IAAI,QAAQ;gBACV,QAAQ;gBACR,aAAa;YACf;QACF;sCAAG;QAAC;KAAO;IAEX,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,eAAe;QACnB,IAAI,KAAK,IAAI,IAAI;YACf,SAAS;gBAAE;gBAAM;YAAU;YAC3B;QACF;IACF;IAEA,MAAM,uBAAuB;QAC3B,kBAAkB,eAAe;QACjC;IACF;IAEA,OACE,mDAAmD;IACnD,yEAAyE;kBACzE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;;8CACZ,6LAAC;oCAAI,OAAM;oCAA6B,WAAU;oCAAU,MAAK;oCAAO,SAAQ;oCAAY,QAAO;8CACjG,cAAA,6LAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;gCACjE;;;;;;;sCAGR,6LAAC;4BAAE,WAAU;;gCAA6B;gCAC5B,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC;gCAAG;gCAAG,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC;;;;;;;;;;;;;8BAK1D,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAM,SAAQ;oCAAc,WAAU;8CAA+C;;;;;;8CAGtF,6LAAC;oCACC,IAAG;oCACH,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACvC,aAAY;oCACZ,WAAU;oCACV,WAAW,CAAC;wCACV,IAAI,EAAE,GAAG,KAAK,SAAS;oCACzB;;;;;;;;;;;;sCAIJ,6LAAC;;8CACC,6LAAC;oCAAM,SAAQ;oCAAY,WAAU;8CAA+C;;;;;;8CAGpF,6LAAC;oCACC,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;oCAC5C,aAAY;oCACZ,MAAM;oCACN,WAAU;;;;;;;;;;;;;;;;;;8BAMhB,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,6LAAC;oCAAI,OAAM;oCAA6B,WAAU;oCAAU,MAAK;oCAAO,SAAQ;oCAAY,QAAO;8CACjG,cAAA,6LAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;gCACjE;;;;;;;sCAKR,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAO,SAAS;oCAAS,WAAU;8CAAqK;;;;;;8CAGzM,6LAAC;oCACC,SAAS;oCACT,UAAU,CAAC,KAAK,IAAI;oCACpB,WAAW,CAAC,qKAAqK,EAC/K,KAAK,IAAI,KAAK,yEAAyE,gDACvF;;sDAEF,6LAAC;4CAAI,OAAM;4CAA6B,WAAU;4CAAU,MAAK;4CAAO,SAAQ;4CAAY,QAAO;sDACjG,cAAA,6LAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;wCACjE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQpB;GAhHwB;KAAA","debugId":null}},
    {"offset": {"line": 377, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/panels/SimulasiPanel.tsx"],"sourcesContent":["// src/components/panels/SimulasiPanel.tsx\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\ninterface SimulasiPanelProps {\r\n  onGenerate: (spasi: number, panjang: number) => void;\r\n  onStartDrawing: () => void;\r\n  isDrawing: boolean;\r\n  hasLine: boolean;\r\n  // --- Props baru ---\r\n  onDeleteLine: () => void; // Fungsi untuk menghapus garis\r\n  onClosePanel: () => void; // Fungsi untuk menutup panel\r\n}\r\n\r\nexport default function SimulasiPanel({\r\n  onGenerate,\r\n  onStartDrawing,\r\n  isDrawing,\r\n  hasLine,\r\n  onDeleteLine, // Terima prop baru\r\n  onClosePanel, // Terima prop baru\r\n}: SimulasiPanelProps) {\r\n  const [spasi, setSpasi] = useState(10);\r\n  const [panjang, setPanjang] = useState(50);\r\n\r\n  // Reset nilai saat mulai menggambar\r\n  useEffect(() => {\r\n    if (isDrawing) {\r\n      setSpasi(10);\r\n      setPanjang(50);\r\n    }\r\n  }, [isDrawing]);\r\n\r\n  const handleGenerate = () => {\r\n    if (!hasLine) {\r\n      alert(\"Garis sungai belum digambar.\");\r\n      return;\r\n    }\r\n    onGenerate(spasi, panjang);\r\n  };\r\n\r\n  return (\r\n    <div className=\"absolute bottom-4 right-4 z-[1000] bg-white rounded-xl shadow-xl p-5 w-80 border border-gray-200\">\r\n      {/* Header dengan Tombol Tutup */}\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-xl font-bold text-gray-800\">Simulasi Transek</h3>\r\n        <button\r\n          onClick={onClosePanel} // Gunakan fungsi dari props\r\n          className=\"text-gray-500 hover:text-red-500 transition-colors duration-200\"\r\n          aria-label=\"Tutup Panel\"\r\n        >\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tombol Gambar Garis */}\r\n      <button\r\n        onClick={onStartDrawing}\r\n        disabled={isDrawing}\r\n        className={`w-full py-3 px-4 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center\r\n          ${isDrawing ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" : \"bg-amber-500 hover:bg-amber-600 text-white shadow-md hover:shadow-lg transform hover:-translate-y-0.5\"}`}\r\n      >\r\n        {isDrawing ? (\r\n          <>\r\n            <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-current\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\"></path>\r\n            </svg>\r\n            Sedang Menggambar...\r\n          </>\r\n        ) : (\r\n          \"Gambar Garis Sungai\"\r\n        )}\r\n      </button>\r\n\r\n      {/* Form input setelah garis tersedia */}\r\n      {hasLine && (\r\n        <div className=\"mt-5 pt-4 border-t border-gray-100\">\r\n          <p className=\"text-sm text-gray-600 mb-4 italic\">Atur parameter transek:</p>\r\n\r\n          {/* Input Spasi */}\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Spasi (meter)</label>\r\n            <div className=\"relative\">\r\n              <input\r\n                type=\"number\"\r\n                value={spasi}\r\n                onChange={(e) => setSpasi(Math.max(1, Number(e.target.value)))}\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow shadow-sm text-gray-700 placeholder:text-gray-400\"\r\n                min=\"1\"\r\n                placeholder=\"Jarak antar transek\"\r\n              />\r\n              <div className=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\r\n                <span className=\"text-gray-500 text-sm\">m</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Input Panjang */}\r\n          <div className=\"mb-5\">\r\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Panjang Transek (meter)</label>\r\n            <div className=\"relative\">\r\n              <input\r\n                type=\"number\"\r\n                value={panjang}\r\n                onChange={(e) => setPanjang(Math.max(1, Number(e.target.value)))}\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow shadow-sm text-gray-700 placeholder:text-gray-400\"\r\n                min=\"1\"\r\n                placeholder=\"Panjang setiap transek\"\r\n              />\r\n              <div className=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\r\n                <span className=\"text-gray-500 text-sm\">m</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Tombol Generate dan Hapus Garis */}\r\n          <div className=\"flex flex-col gap-2\">\r\n            <button\r\n              onClick={handleGenerate}\r\n              className=\"w-full bg-gradient-to-r from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 transform hover:-translate-y-0.5 flex items-center justify-center\"\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n              Generate Transek\r\n            </button>\r\n\r\n            {/* Tombol Hapus Garis */}\r\n            <button\r\n              onClick={onDeleteLine} // Gunakan fungsi dari props\r\n              className=\"w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 transform hover:-translate-y-0.5 flex items-center justify-center\"\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M9 2a1 1 0 00-.894.553L3.14 13.142a3 3 0 000 4.243l1.269 1.269c1.071 1.07 2.634 1.07 3.707 0l1.269-1.269a3 3 0 000-4.243L9.894.553A1 1 0 009 2zm-.436 9.8l2.16 2.16a.5.5 0 00.708-.707l-2.16-2.16a.5.5 0 00-.707 0z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              Hapus Garis\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 719, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/lib/geotools/generateTransek.ts"],"sourcesContent":["// === IMPORTS ===\r\nimport * as turf from \"@turf/turf\";\r\nimport { Feature, LineString, Point } from \"geojson\"; // Hapus Polygon dari sini\r\n\r\n// === INTERFACE ===\r\n// Sesuaikan interface untuk hasil yang hanya berisi transek mentah\r\ninterface GenerateRawTransectsResult {\r\n  allTransects: Feature<LineString>[];\r\n  samplingPoints: Feature<Point>[]; // Titik tengah setiap transek\r\n  metadata: {\r\n    totalLength: number;\r\n    spasi: number;\r\n    panjang: number;\r\n    jumlahTransek: number;\r\n    timestamp: string;\r\n    useAutoBuffer: boolean; // Simpan info ini untuk referensi\r\n  };\r\n  riverLine: Feature<LineString>;\r\n  // polygon akan dihapus dari return value karena tidak digunakan untuk clipping di sini\r\n}\r\n\r\n// === FUNGSI UTAMA (HANYA GENERATE TRANSEK MENTAH) ===\r\nexport function generateTransek( // Bisa tetap nama generateTransek\r\n  riverLine: Feature<LineString>,\r\n  // Hapus polygonFeature dari parameter karena tidak digunakan untuk generate\r\n  spasi: number,\r\n  panjang: number,\r\n  useAutoBuffer: boolean = false // Tetap terima, tapi abaikan untuk clipping\r\n): GenerateRawTransectsResult | null {\r\n  const allTransects: Feature<LineString>[] = [];\r\n  const samplingPoints: Feature<Point>[] = [];\r\n\r\n  console.log(\"üöÄ Memulai generateRawTransects (tanpa clipping)\");\r\n  console.log(\"PropertyParams:\", { spasi, panjang, useAutoBuffer }); // Log tetap ada\r\n\r\n  // --- VALIDASI INPUT DASAR ---\r\n  if (!riverLine) {\r\n    console.warn(\"‚ùå Input tidak valid: riverLine kosong\");\r\n    return null;\r\n  }\r\n\r\n  if (riverLine.geometry?.type !== \"LineString\") {\r\n    console.error(\"‚ùå riverLine bukan LineString:\", riverLine.geometry?.type);\r\n    return null;\r\n  }\r\n\r\n  // --- HITUNG PANJANG SUNGAI & JUMLAH TRANSEK ---\r\n  const totalLength = turf.length(riverLine, { units: \"meters\" });\r\n  const steps = Math.floor(totalLength / spasi);\r\n\r\n  console.log(`üìè Total panjang sungai: ${totalLength.toFixed(2)} meter`);\r\n  console.log(`üéØ Jumlah transek yang akan dibuat: ${steps + 1} (spasi: ${spasi}m)`);\r\n\r\n  // --- LOOP UNTUK SETIAP TRANSEK ---\r\n  for (let i = 0; i <= steps; i++) {\r\n    const dist = i * spasi;\r\n    let center, prev, next;\r\n\r\n    try {\r\n      center = turf.along(riverLine, dist, { units: \"meters\" });\r\n    } catch (e: any) {\r\n      console.warn(`‚ùå Gagal ambil titik center pada jarak ${dist}m`, e?.message);\r\n      continue;\r\n    }\r\n\r\n    // --- OFFSET DINAMIS UNTUK PERHITUNGAN BEARING ---\r\n    const offset = Math.max(1, Math.min(spasi / 2, 5)); // Antara 1m sampai 5m\r\n\r\n    try {\r\n      // Hindari jarak 0 untuk prev\r\n      prev = turf.along(riverLine, Math.max(dist - offset, 0.001), { units: \"meters\" });\r\n      // Hindari melebihi panjang total untuk next\r\n      next = turf.along(riverLine, Math.min(dist + offset, totalLength), { units: \"meters\" });\r\n    } catch (e: any) {\r\n      console.warn(`‚ùå Gagal ambil titik prev/next di dist=${dist}`, e?.message);\r\n      // Jika gagal, skip transek ini\r\n      continue;\r\n    }\r\n\r\n    const bearing = turf.bearing(prev, next);\r\n    const normalBearing = bearing + 90;\r\n    const normalizedNormalBearing = ((normalBearing % 360) + 360) % 360;\r\n\r\n    // --- GENERATE TRANSEK TEGAK LURUS ---\r\n    const p1 = turf.destination(center, panjang / 2, normalizedNormalBearing, { units: \"meters\" });\r\n    const p2 = turf.destination(center, panjang / 2, normalizedNormalBearing + 180, { units: \"meters\" });\r\n\r\n    const transect = turf.lineString([p1.geometry.coordinates, p2.geometry.coordinates]);\r\n\r\n    // --- TAMBAHKAN ID DAN INFO ---\r\n    const id = `TR_RAW-${String(i + 1).padStart(3, \"0\")}`;\r\n    const transectWithProps = turf.lineString(transect.geometry.coordinates, {\r\n      id,\r\n      index: i,\r\n      distanceFromStart: parseFloat(dist.toFixed(2)),\r\n      bearing: parseFloat(bearing.toFixed(2)),\r\n      normalBearing: parseFloat(normalizedNormalBearing.toFixed(2)),\r\n      center: center.geometry.coordinates,\r\n      color: \"#0000FF\", // Biru untuk menandakan mentah\r\n      // Tambahkan panjang teoritis transek\r\n      theoreticalLength: panjang,\r\n    });\r\n\r\n    allTransects.push(transectWithProps);\r\n\r\n    // --- TAMBAHKAN SAMPLING POINT (CENTER) ---\r\n    samplingPoints.push({\r\n      type: \"Feature\",\r\n      geometry: center.geometry,\r\n      properties: {\r\n        transectId: id,\r\n        index: i,\r\n        distanceFromStart: parseFloat(dist.toFixed(2)),\r\n        color: \"#FF0000\", // Merah untuk menandakan titik\r\n      },\r\n    });\r\n\r\n    console.log(`üèóÔ∏è  Transek mentah dibuat: ${id} (dist: ${dist.toFixed(2)}m)`);\r\n  }\r\n\r\n  // --- SIAPKAN OUTPUT ---\r\n  const metadata = {\r\n    totalLength,\r\n    spasi,\r\n    panjang,\r\n    jumlahTransek: allTransects.length,\r\n    timestamp: new Date().toISOString(),\r\n    useAutoBuffer, // Simpan untuk info\r\n  };\r\n\r\n  console.log(`\\n‚úÖ=== GENERATE TRANSEK MENTAH SELESAI ===‚úÖ`);\r\n  console.log(`üìä Jumlah transek mentah: ${allTransects.length}`);\r\n  console.log(`üìä Jumlah sampling points: ${samplingPoints.length}`);\r\n\r\n  // --- INSTRUKSI VISUALISASI ---\r\n  console.log(\"%cüìã SALIN DATA DI BAWAH KE https://geojson.io   \", \"color: blue; font-weight: bold\");\r\n  console.log(\"üëâ River Line:\", JSON.stringify(riverLine));\r\n  console.log(\"üëâ Semua Transek Mentah:\", JSON.stringify({ type: \"FeatureCollection\", features: allTransects }));\r\n  console.log(\"üëâ Semua Sampling Points:\", JSON.stringify({ type: \"FeatureCollection\", features: samplingPoints }));\r\n  console.log(\"‚úÖ Selesai. Salin salah satu untuk lihat di peta.\");\r\n\r\n  return {\r\n    allTransects,\r\n    samplingPoints,\r\n    metadata,\r\n    riverLine,\r\n    // polygon tidak dikembalikan karena tidak digunakan\r\n  };\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 864, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/components/map/MapComponent.tsx"],"sourcesContent":["// src/components/map/MapComponent.tsx\r\n\"use client\";\r\n\r\nimport * as L from \"leaflet\";\r\nimport { MapContainer, TileLayer, useMapEvents, ZoomControl, useMap, Marker, Popup, GeoJSON, Polyline } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport { MutableRefObject, useEffect, useState } from \"react\";\r\nimport { Map as LeafletMap, Icon, LatLngExpression } from \"leaflet\";\r\nimport GeoJsonLayer from \"@/components/layers/GeoJsonLayer\";\r\nimport { useTool } from \"@/context/ToolContext\";\r\nimport ToponimiFormModal from \"@/components/forms/ToponimiFormModal\";\r\nimport SimulasiPanel from \"@/components/panels/SimulasiPanel\";\r\nimport type { Feature, LineString, Point } from \"geojson\";\r\nimport { generateTransek } from \"@/lib/geotools/generateTransek\";\r\n\r\ninterface MapComponentProps {\r\n  setLatLng: (coords: [number, number]) => void;\r\n  basemapType: string;\r\n  mapRef: MutableRefObject<LeafletMap | null>;\r\n  userLocation?: [number, number] | null;\r\n}\r\n\r\nconst buoyIcon = new Icon({\r\n  iconUrl: \"/Pin.svg\",\r\n  iconSize: [32, 32],\r\n  iconAnchor: [16, 32],\r\n  popupAnchor: [0, -32],\r\n});\r\n\r\nconst userIcon = buoyIcon;\r\nconst startIcon = buoyIcon;\r\nconst endIcon = buoyIcon;\r\n\r\nfunction MapRefSetter({ mapRef }: { mapRef: MutableRefObject<LeafletMap | null> }) {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    mapRef.current = map;\r\n  }, [map, mapRef]);\r\n  return null;\r\n}\r\n\r\nfunction UserLocationMarker({ location }: { location: [number, number] }) {\r\n  return (\r\n    <Marker position={location} icon={userIcon}>\r\n      <Popup>üìç Kamu di sini</Popup>\r\n    </Marker>\r\n  );\r\n}\r\n\r\nexport default function MapComponent({ setLatLng, basemapType, mapRef, userLocation }: MapComponentProps) {\r\n  const tileLayers: Record<string, string> = {\r\n    osm: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\r\n    satellite: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\r\n    terrain: \"https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg\",\r\n  };\r\n  const tileUrl = tileLayers[basemapType] || tileLayers[\"osm\"];\r\n  const [centerline, setCenterline] = useState<any>(null);\r\n\r\n  // --- STATE UNTUK TRANSEK DAN SAMPLING POINT (LOKAL) ---\r\n  // State ini dikelola secara lokal karena hasil dari logika spesifik komponen ini.\r\n  const [allTransects, setAllTransects] = useState<Feature<LineString>[]>([]);\r\n  const [samplingPoints, setSamplingPoints] = useState<Feature<Point>[]>([]);\r\n\r\n  const {\r\n    activeTool,\r\n    setActiveTool,\r\n    formLatLng,\r\n    setFormLatLng,\r\n    showToponimiForm,\r\n    setShowToponimiForm,\r\n    routePoints,\r\n    setRoutePoints,\r\n    // --- STATE DARI TOOLCONTEXT ---\r\n    // Hanya gunakan state tools/UI dari context.\r\n    // State hasil perhitungan seperti samplingPoints di context diabaikan.\r\n    layers,\r\n  } = useTool();\r\n\r\n  // --- STATE UNTUK DRAWLINE TOOL (LOKAL) ---\r\n  // State ini tetap dikelola secara lokal karena spesifik untuk interaksi menggambar di komponen ini.\r\n  const [drawnLine, setDrawnLine] = useState<L.LatLng[]>([]);\r\n\r\n  const isDrawing = activeTool === \"drawline\";\r\n  const hasLine = drawnLine.length > 0;\r\n\r\n  const addPointToDrawnLine = (latlng: L.LatLng) => {\r\n    setDrawnLine((prev) => [...prev, latlng]);\r\n  };\r\n\r\n  // --- FUNGSI UNTUK MENGHAPUS GARIS DAN RESET STATE TRANSEK LOKAL ---\r\n  const clearDrawnLine = () => {\r\n    setDrawnLine([]);\r\n    // Reset state hasil generateTransek yang dikelola secara lokal\r\n    setAllTransects([]);\r\n    setSamplingPoints([]);\r\n    // JANGAN panggil setActiveTool(null) di sini jika hanya ingin hapus garis\r\n    // setActiveTool(null);\r\n    // Fungsi ini sekarang hanya untuk membersihkan garis dan hasil generate lokal.\r\n  };\r\n\r\n  // --- FUNGSI UNTUK MENGHASILKAN TRANSEK MENTAH ---\r\n  const handleGenerateTransek = (spasi: number, panjang: number) => {\r\n    console.log(\"handleGenerateTransek dipanggil dengan:\", { spasi, panjang });\r\n    if (!drawnLine || drawnLine.length < 2) {\r\n      alert(\"Garis sungai belum digambar.\");\r\n      return;\r\n    }\r\n\r\n    // Buat Feature<LineString> dari drawnLine\r\n    const lineCoords = drawnLine.map((latlng) => [latlng.lng, latlng.lat]);\r\n    const riverLine: Feature<LineString> = {\r\n      type: \"Feature\",\r\n      geometry: { type: \"LineString\", coordinates: lineCoords },\r\n      properties: {},\r\n    };\r\n\r\n    try {\r\n      // Signature: generateTransek(riverLine, spasi, panjang, useAutoBuffer)\r\n      const result = generateTransek(riverLine, spasi, panjang, true); // useAutoBuffer = true\r\n      if (result) {\r\n        // Simpan hasil ke state lokal komponen\r\n        setAllTransects(result.allTransects);\r\n        setSamplingPoints(result.samplingPoints);\r\n        console.log(\"Hasil generateTransek (mentah):\", result);\r\n        // Tetap di mode simulasi untuk menampilkan hasil\r\n      } else {\r\n        alert(\"Gagal menghasilkan transek. Silakan cek console untuk detail.\");\r\n        console.error(\"generateTransek mengembalikan null/undefined\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error saat memanggil generateTransek:\", error);\r\n      alert(\"Terjadi kesalahan saat menghasilkan transek.\");\r\n    }\r\n  };\r\n\r\n  // --- FUNGSI UNTUK MEMULAI MENGgambar GARIS ---\r\n  const handleStartDrawing = () => {\r\n    setDrawnLine([]);\r\n    // Reset state hasil sebelumnya saat mulai menggambar baru\r\n    setAllTransects([]);\r\n    setSamplingPoints([]);\r\n    setActiveTool(\"drawline\");\r\n  };\r\n\r\n  const MapEvents = () => {\r\n    const map = useMap();\r\n    useMapEvents({\r\n      mousemove(e) {\r\n        setLatLng([e.latlng.lat, e.latlng.lng]);\r\n      },\r\n      click(e) {\r\n        if (activeTool === \"toponimi\") {\r\n          setFormLatLng(e.latlng);\r\n          setShowToponimiForm(true);\r\n        } else if (activeTool === \"rute\") {\r\n          if (routePoints.length < 2) {\r\n            const newPoints = [...routePoints, e.latlng];\r\n            setRoutePoints(newPoints);\r\n            if (mapRef.current) {\r\n              L.marker(e.latlng, {\r\n                icon: newPoints.length === 1 ? startIcon : endIcon,\r\n              })\r\n                .addTo(mapRef.current)\r\n                .bindPopup(newPoints.length === 1 ? \"Titik Awal\" : \"Titik Akhir\")\r\n                .openPopup();\r\n            }\r\n          }\r\n        } else if (activeTool === \"drawline\") {\r\n          addPointToDrawnLine(e.latlng);\r\n        }\r\n      },\r\n      contextmenu() {\r\n        if (activeTool === \"drawline\" && drawnLine.length > 1) {\r\n          alert(\"Garis selesai digambar.\");\r\n          // Opsional: Otomatis hentikan drawing setelah selesai?\r\n          // setActiveTool(null);\r\n        }\r\n      },\r\n    });\r\n    return null;\r\n  };\r\n\r\n  const handleAddToponimi = ({ nama, deskripsi }: { nama: string; deskripsi: string }) => {\r\n    if (!formLatLng || !mapRef.current) return;\r\n    L.marker(formLatLng, { icon: buoyIcon }).addTo(mapRef.current).bindPopup(`<strong>${nama}</strong><br/>${deskripsi}`);\r\n    setFormLatLng(null);\r\n    setShowToponimiForm(false);\r\n  };\r\n\r\n  const handleCancelMarker = () => {\r\n    setFormLatLng(null);\r\n    setShowToponimiForm(false);\r\n  };\r\n\r\n  // --- FETCH DATA STATIC (CENTERLINE) ---\r\n  useEffect(() => {\r\n    fetch(\"/data/centerline.geojson\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setCenterline(data);\r\n      })\r\n      .catch((err) => console.error(\"Error fetching centerline:\", err));\r\n  }, []);\r\n\r\n  // --- FETCH DATA POLYGON SUNGAI (DIKOMENTARI) ---\r\n  // Komentari atau hapus fetch riverPolygons karena tidak digunakan lagi\r\n  // untuk clipping di tahap generate\r\n  /*\r\n  useEffect(() => {\r\n    fetch(\"/data/sungai.geojson\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // Logika pemrosesan polygon jika diperlukan untuk layer tampilan\r\n        // atau untuk proses clipping terpisah nanti\r\n      })\r\n      .catch((err) => console.error(\"Error fetching river polygons:\", err));\r\n  }, [mapRef]);\r\n  */\r\n\r\n  return (\r\n    <>\r\n      <MapContainer center={[-2.98, 104.76]} zoom={13} zoomControl={false} style={{ height: \"100%\", width: \"100%\" }} className=\"z-0\">\r\n        <TileLayer attribution=\"&copy; contributors\" url={tileUrl} />\r\n        <ZoomControl position=\"bottomright\" />\r\n        <MapEvents />\r\n        <MapRefSetter mapRef={mapRef} />\r\n        {userLocation && <UserLocationMarker location={userLocation} />}\r\n        {centerline && <GeoJSON data={centerline} style={{ color: \"blue\", weight: 3 }} />}\r\n\r\n        {/* --- TAMPILAN GARIS YANG DIGAMBAR --- */}\r\n        {drawnLine.length > 0 && <Polyline positions={drawnLine} color=\"red\" weight={4} />}\r\n\r\n        {/* --- TAMPILAN TRANSEK YANG DIHASILKAN (MENTAH) --- */}\r\n        {allTransects.map((transek) => (\r\n          <GeoJSON\r\n            key={transek.properties?.id || transek.properties?.index}\r\n            data={transek}\r\n            style={{\r\n              color: transek.properties?.color || \"blue\",\r\n              weight: 2,\r\n            }}\r\n            eventHandlers={{\r\n              click: () => {\r\n                alert(`ID: ${transek.properties?.id}\\n` + `Jarak: ${transek.properties?.distanceFromStart}m\\n` + `Bearing: ${transek.properties?.bearing}\\n` + `Panjang Teoritis: ${transek.properties?.theoreticalLength}m`);\r\n              },\r\n            }}\r\n          />\r\n        ))}\r\n\r\n        {/* --- TAMPILAN TITIK SAMPLING --- */}\r\n        {samplingPoints.map((pt, i) => (\r\n          <Marker\r\n            key={`sampling-${i}`}\r\n            position={[pt.geometry.coordinates[1], pt.geometry.coordinates[0]] as LatLngExpression}\r\n            icon={L.divIcon({\r\n              className: \"sampling-icon\",\r\n              html: `<div style=\"background:${pt.properties?.color || \"#16a34a\"};width:8px;height:8px;border-radius:50%;\"></div>`,\r\n            })}\r\n          >\r\n            <Popup>\r\n              Sampling Point {pt.properties?.transectId || pt.properties?.index} (Dist: {pt.properties?.distanceFromStart}m)\r\n            </Popup>\r\n          </Marker>\r\n        ))}\r\n\r\n        {/* --- LAYER TAMBAHAN (GeoJsonLayer) --- */}\r\n        {layers.batimetri && <GeoJsonLayer url=\"/data/toponimi.geojson\" popupField=\"kedalaman\" color=\"#9333ea\" radius={6} />}\r\n        {layers.toponimi && <GeoJsonLayer url=\"/data/toponimi.geojson\" popupField=\"kedalaman\" marker />}\r\n        {layers.sungai && <GeoJsonLayer url=\"/data/sungai.geojson\" popupField=\"nama\" color=\"#0284c7\" />}\r\n      </MapContainer>\r\n\r\n      {/* --- MODAL FORM TOPONIMI --- */}\r\n      {showToponimiForm && formLatLng && activeTool !== \"simulasi\" && (\r\n        <ToponimiFormModal latlng={[formLatLng.lat, formLatLng.lng]} onClose={() => setShowToponimiForm(false)} onSubmit={handleAddToponimi} onCancelMarker={handleCancelMarker} />\r\n      )}\r\n\r\n      {/* --- PANEL SIMULASI TRANSEK --- */}\r\n      {/* Perbarui pemanggilan SimulasiPanel - hapus props terkait polygon */}\r\n      {/* Asumsi SimulasiPanel sudah memiliki tombol Hapus dan Tutup di dalamnya */}\r\n      {(activeTool === \"simulasi\" || isDrawing) && (\r\n        <SimulasiPanel\r\n          onGenerate={handleGenerateTransek}\r\n          onStartDrawing={handleStartDrawing}\r\n          isDrawing={isDrawing}\r\n          hasLine={hasLine}\r\n          // --- PROPS UNTUK KONTROL TAMBAHAN ---\r\n          onDeleteLine={clearDrawnLine}\r\n          onClosePanel={() => {\r\n            // Logika tutup panel: keluar dari mode (ini yang menutup panel)\r\n            setActiveTool(null);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* --- TOMBOL \"HAPUS GARIS\" TERPISAH (DIKOMENTARI) --- */}\r\n      {/* \r\n      {(isDrawing || hasLine) && drawnLine.length > 0 && (\r\n        <button\r\n          onClick={clearDrawnLine}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 10,\r\n            right: 10,\r\n            zIndex: 999,\r\n            padding: \"6px 12px\",\r\n            backgroundColor: \"#ef4444\",\r\n            color: \"white\",\r\n            border: \"none\",\r\n            borderRadius: 4,\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Hapus Garis\r\n        </button>\r\n      )} \r\n      */}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,sCAAsC;;;;;AAGtC;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAEA;;;AAZA;;;;;;;;;;;AAqBA,MAAM,WAAW,IAAI,oJAAA,CAAA,OAAI,CAAC;IACxB,SAAS;IACT,UAAU;QAAC;QAAI;KAAG;IAClB,YAAY;QAAC;QAAI;KAAG;IACpB,aAAa;QAAC;QAAG,CAAC;KAAG;AACvB;AAEA,MAAM,WAAW;AACjB,MAAM,YAAY;AAClB,MAAM,UAAU;AAEhB,SAAS,aAAa,EAAE,MAAM,EAAmD;;IAC/E,MAAM,MAAM,CAAA,GAAA,mJAAA,CAAA,SAAM,AAAD;IACjB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,OAAO,OAAO,GAAG;QACnB;iCAAG;QAAC;QAAK;KAAO;IAChB,OAAO;AACT;GANS;;QACK,mJAAA,CAAA,SAAM;;;KADX;AAQT,SAAS,mBAAmB,EAAE,QAAQ,EAAkC;IACtE,qBACE,6LAAC,oJAAA,CAAA,SAAM;QAAC,UAAU;QAAU,MAAM;kBAChC,cAAA,6LAAC,mJAAA,CAAA,QAAK;sBAAC;;;;;;;;;;;AAGb;MANS;AAQM,SAAS,aAAa,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAqB;;;IACtG,MAAM,aAAqC;QACzC,KAAK;QACL,WAAW;QACX,SAAS;IACX;IACA,MAAM,UAAU,UAAU,CAAC,YAAY,IAAI,UAAU,CAAC,MAAM;IAC5D,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAO;IAElD,yDAAyD;IACzD,kFAAkF;IAClF,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAyB,EAAE;IAC1E,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAoB,EAAE;IAEzE,MAAM,EACJ,UAAU,EACV,aAAa,EACb,UAAU,EACV,aAAa,EACb,gBAAgB,EAChB,mBAAmB,EACnB,WAAW,EACX,cAAc,EACd,iCAAiC;IACjC,6CAA6C;IAC7C,uEAAuE;IACvE,MAAM,EACP,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAEV,4CAA4C;IAC5C,oGAAoG;IACpG,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAEzD,MAAM,YAAY,eAAe;IACjC,MAAM,UAAU,UAAU,MAAM,GAAG;IAEnC,MAAM,sBAAsB,CAAC;QAC3B,aAAa,CAAC,OAAS;mBAAI;gBAAM;aAAO;IAC1C;IAEA,qEAAqE;IACrE,MAAM,iBAAiB;QACrB,aAAa,EAAE;QACf,+DAA+D;QAC/D,gBAAgB,EAAE;QAClB,kBAAkB,EAAE;IACpB,0EAA0E;IAC1E,uBAAuB;IACvB,+EAA+E;IACjF;IAEA,mDAAmD;IACnD,MAAM,wBAAwB,CAAC,OAAe;QAC5C,QAAQ,GAAG,CAAC,2CAA2C;YAAE;YAAO;QAAQ;QACxE,IAAI,CAAC,aAAa,UAAU,MAAM,GAAG,GAAG;YACtC,MAAM;YACN;QACF;QAEA,0CAA0C;QAC1C,MAAM,aAAa,UAAU,GAAG,CAAC,CAAC,SAAW;gBAAC,OAAO,GAAG;gBAAE,OAAO,GAAG;aAAC;QACrE,MAAM,YAAiC;YACrC,MAAM;YACN,UAAU;gBAAE,MAAM;gBAAc,aAAa;YAAW;YACxD,YAAY,CAAC;QACf;QAEA,IAAI;YACF,uEAAuE;YACvE,MAAM,SAAS,CAAA,GAAA,4IAAA,CAAA,kBAAe,AAAD,EAAE,WAAW,OAAO,SAAS,OAAO,uBAAuB;YACxF,IAAI,QAAQ;gBACV,uCAAuC;gBACvC,gBAAgB,OAAO,YAAY;gBACnC,kBAAkB,OAAO,cAAc;gBACvC,QAAQ,GAAG,CAAC,mCAAmC;YAC/C,iDAAiD;YACnD,OAAO;gBACL,MAAM;gBACN,QAAQ,KAAK,CAAC;YAChB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yCAAyC;YACvD,MAAM;QACR;IACF;IAEA,gDAAgD;IAChD,MAAM,qBAAqB;QACzB,aAAa,EAAE;QACf,0DAA0D;QAC1D,gBAAgB,EAAE;QAClB,kBAAkB,EAAE;QACpB,cAAc;IAChB;IAEA,MAAM,YAAY;;QAChB,MAAM,MAAM,CAAA,GAAA,mJAAA,CAAA,SAAM,AAAD;QACjB,CAAA,GAAA,mJAAA,CAAA,eAAY,AAAD,EAAE;YACX,WAAU,CAAC;gBACT,UAAU;oBAAC,EAAE,MAAM,CAAC,GAAG;oBAAE,EAAE,MAAM,CAAC,GAAG;iBAAC;YACxC;YACA,OAAM,CAAC;gBACL,IAAI,eAAe,YAAY;oBAC7B,cAAc,EAAE,MAAM;oBACtB,oBAAoB;gBACtB,OAAO,IAAI,eAAe,QAAQ;oBAChC,IAAI,YAAY,MAAM,GAAG,GAAG;wBAC1B,MAAM,YAAY;+BAAI;4BAAa,EAAE,MAAM;yBAAC;wBAC5C,eAAe;wBACf,IAAI,OAAO,OAAO,EAAE;4BAClB,CAAA,GAAA,oJAAA,CAAA,SAAQ,AAAD,EAAE,EAAE,MAAM,EAAE;gCACjB,MAAM,UAAU,MAAM,KAAK,IAAI,YAAY;4BAC7C,GACG,KAAK,CAAC,OAAO,OAAO,EACpB,SAAS,CAAC,UAAU,MAAM,KAAK,IAAI,eAAe,eAClD,SAAS;wBACd;oBACF;gBACF,OAAO,IAAI,eAAe,YAAY;oBACpC,oBAAoB,EAAE,MAAM;gBAC9B;YACF;YACA;gBACE,IAAI,eAAe,cAAc,UAAU,MAAM,GAAG,GAAG;oBACrD,MAAM;gBACN,uDAAuD;gBACvD,uBAAuB;gBACzB;YACF;QACF;QACA,OAAO;IACT;OApCM;;YACQ,mJAAA,CAAA,SAAM;YAClB,mJAAA,CAAA,eAAY;;;IAoCd,MAAM,oBAAoB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAuC;QACjF,IAAI,CAAC,cAAc,CAAC,OAAO,OAAO,EAAE;QACpC,CAAA,GAAA,oJAAA,CAAA,SAAQ,AAAD,EAAE,YAAY;YAAE,MAAM;QAAS,GAAG,KAAK,CAAC,OAAO,OAAO,EAAE,SAAS,CAAC,CAAC,QAAQ,EAAE,KAAK,cAAc,EAAE,WAAW;QACpH,cAAc;QACd,oBAAoB;IACtB;IAEA,MAAM,qBAAqB;QACzB,cAAc;QACd,oBAAoB;IACtB;IAEA,yCAAyC;IACzC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,4BACH,IAAI;0CAAC,CAAC,MAAQ,IAAI,IAAI;yCACtB,IAAI;0CAAC,CAAC;oBACL,cAAc;gBAChB;yCACC,KAAK;0CAAC,CAAC,MAAQ,QAAQ,KAAK,CAAC,8BAA8B;;QAChE;iCAAG,EAAE;IAEL,kDAAkD;IAClD,uEAAuE;IACvE,mCAAmC;IACnC;;;;;;;;;;EAUA,GAEA,qBACE;;0BACE,6LAAC,0JAAA,CAAA,eAAY;gBAAC,QAAQ;oBAAC,CAAC;oBAAM;iBAAO;gBAAE,MAAM;gBAAI,aAAa;gBAAO,OAAO;oBAAE,QAAQ;oBAAQ,OAAO;gBAAO;gBAAG,WAAU;;kCACvH,6LAAC,uJAAA,CAAA,YAAS;wBAAC,aAAY;wBAAsB,KAAK;;;;;;kCAClD,6LAAC,yJAAA,CAAA,cAAW;wBAAC,UAAS;;;;;;kCACtB,6LAAC;;;;;kCACD,6LAAC;wBAAa,QAAQ;;;;;;oBACrB,8BAAgB,6LAAC;wBAAmB,UAAU;;;;;;oBAC9C,4BAAc,6LAAC,qJAAA,CAAA,UAAO;wBAAC,MAAM;wBAAY,OAAO;4BAAE,OAAO;4BAAQ,QAAQ;wBAAE;;;;;;oBAG3E,UAAU,MAAM,GAAG,mBAAK,6LAAC,sJAAA,CAAA,WAAQ;wBAAC,WAAW;wBAAW,OAAM;wBAAM,QAAQ;;;;;;oBAG5E,aAAa,GAAG,CAAC,CAAC,wBACjB,6LAAC,qJAAA,CAAA,UAAO;4BAEN,MAAM;4BACN,OAAO;gCACL,OAAO,QAAQ,UAAU,EAAE,SAAS;gCACpC,QAAQ;4BACV;4BACA,eAAe;gCACb,OAAO;oCACL,MAAM,CAAC,IAAI,EAAE,QAAQ,UAAU,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,OAAO,EAAE,QAAQ,UAAU,EAAE,kBAAkB,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,QAAQ,UAAU,EAAE,QAAQ,EAAE,CAAC,GAAG,CAAC,kBAAkB,EAAE,QAAQ,UAAU,EAAE,kBAAkB,CAAC,CAAC;gCAC9M;4BACF;2BAVK,QAAQ,UAAU,EAAE,MAAM,QAAQ,UAAU,EAAE;;;;;oBAetD,eAAe,GAAG,CAAC,CAAC,IAAI,kBACvB,6LAAC,oJAAA,CAAA,SAAM;4BAEL,UAAU;gCAAC,GAAG,QAAQ,CAAC,WAAW,CAAC,EAAE;gCAAE,GAAG,QAAQ,CAAC,WAAW,CAAC,EAAE;6BAAC;4BAClE,MAAM,CAAA,GAAA,oJAAA,CAAA,UAAS,AAAD,EAAE;gCACd,WAAW;gCACX,MAAM,CAAC,uBAAuB,EAAE,GAAG,UAAU,EAAE,SAAS,UAAU,gDAAgD,CAAC;4BACrH;sCAEA,cAAA,6LAAC,mJAAA,CAAA,QAAK;;oCAAC;oCACW,GAAG,UAAU,EAAE,cAAc,GAAG,UAAU,EAAE;oCAAM;oCAAS,GAAG,UAAU,EAAE;oCAAkB;;;;;;;2BARzG,CAAC,SAAS,EAAE,GAAG;;;;;oBAcvB,OAAO,SAAS,kBAAI,6LAAC,+IAAA,CAAA,UAAY;wBAAC,KAAI;wBAAyB,YAAW;wBAAY,OAAM;wBAAU,QAAQ;;;;;;oBAC9G,OAAO,QAAQ,kBAAI,6LAAC,+IAAA,CAAA,UAAY;wBAAC,KAAI;wBAAyB,YAAW;wBAAY,MAAM;;;;;;oBAC3F,OAAO,MAAM,kBAAI,6LAAC,+IAAA,CAAA,UAAY;wBAAC,KAAI;wBAAuB,YAAW;wBAAO,OAAM;;;;;;;;;;;;YAIpF,oBAAoB,cAAc,eAAe,4BAChD,6LAAC,mJAAA,CAAA,UAAiB;gBAAC,QAAQ;oBAAC,WAAW,GAAG;oBAAE,WAAW,GAAG;iBAAC;gBAAE,SAAS,IAAM,oBAAoB;gBAAQ,UAAU;gBAAmB,gBAAgB;;;;;;YAMtJ,CAAC,eAAe,cAAc,SAAS,mBACtC,6LAAC,gJAAA,CAAA,UAAa;gBACZ,YAAY;gBACZ,gBAAgB;gBAChB,WAAW;gBACX,SAAS;gBACT,uCAAuC;gBACvC,cAAc;gBACd,cAAc;oBACZ,gEAAgE;oBAChE,cAAc;gBAChB;;;;;;;;AA4BV;IA7QwB;;QA2BlB,iIAAA,CAAA,UAAO;;;MA3BW","debugId":null}}]
}