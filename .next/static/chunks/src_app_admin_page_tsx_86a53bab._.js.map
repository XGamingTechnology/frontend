{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/MY%20Data/kerjaan/2025/SUNGAI%20MUSI%20PALEMBANG/my%20project/frontend/src/app/admin/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\n\r\ninterface User {\r\n  id: number;\r\n  name: string;\r\n  email: string;\r\n  role: \"user\" | \"admin\";\r\n}\r\n\r\ninterface LogEntry {\r\n  message: string;\r\n  timestamp: string;\r\n}\r\n\r\nexport default function AdminPage() {\r\n  const router = useRouter();\r\n\r\n  const [users, setUsers] = useState<User[]>([\r\n    { id: 1, name: \"Eleanor Vance\", email: \"user@example.com\", role: \"user\" },\r\n    { id: 2, name: \"David Kim\", email: \"admin@example.com\", role: \"admin\" },\r\n  ]);\r\n\r\n  const [activityLogs, setActivityLogs] = useState<LogEntry[]>([]);\r\n  const [loginLogs, setLoginLogs] = useState<LogEntry[]>([\r\n    { timestamp: new Date().toLocaleString(), message: \"Admin David Kim login\" },\r\n    { timestamp: new Date().toLocaleString(), message: \"User Eleanor Vance login\" },\r\n  ]);\r\n\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [newUser, setNewUser] = useState({ name: \"\", email: \"\", role: \"user\", password: \"\" });\r\n\r\n  const logActivity = (message: string) => {\r\n    const timestamp = new Date().toLocaleString();\r\n    setActivityLogs((prev) => [{ message, timestamp }, ...prev]);\r\n  };\r\n\r\n  const logLoginLogout = (message: string) => {\r\n    const timestamp = new Date().toLocaleString();\r\n    setLoginLogs((prev) => [{ message, timestamp }, ...prev]);\r\n  };\r\n\r\n  const toggleRole = (id: number) => {\r\n    setUsers((prev) => prev.map((user) => (user.id === id ? { ...user, role: user.role === \"admin\" ? \"user\" : \"admin\" } : user)));\r\n    const changed = users.find((u) => u.id === id);\r\n    const newRole = changed?.role === \"admin\" ? \"user\" : \"admin\";\r\n    logActivity(`Mengubah role ${changed?.name} menjadi ${newRole}`);\r\n  };\r\n\r\n  const removeUser = (id: number) => {\r\n    const target = users.find((u) => u.id === id);\r\n    if (target && confirm(`Yakin ingin menghapus ${target.name}?`)) {\r\n      setUsers((prev) => prev.filter((u) => u.id !== id));\r\n      logActivity(`Menghapus user ${target.name}`);\r\n    }\r\n  };\r\n\r\n  const exportCSV = () => {\r\n    const csvContent = \"data:text/csv;charset=utf-8,\" + [\"Nama,Email,Role\"].concat(users.map((u) => `${u.name},${u.email},${u.role}`)).join(\"\\n\");\r\n\r\n    const encodedUri = encodeURI(csvContent);\r\n    const link = document.createElement(\"a\");\r\n    link.href = encodedUri;\r\n    link.download = \"users.csv\";\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n\r\n    logActivity(\"Melakukan ekspor data pengguna ke CSV\");\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    if (confirm(\"Apakah Anda yakin ingin logout?\")) {\r\n      logLoginLogout(\"Admin logout\");\r\n      router.push(\"/login\");\r\n    }\r\n  };\r\n\r\n  const handleAddUser = () => {\r\n    const newId = Date.now();\r\n    setUsers([...users, { id: newId, name: newUser.name, email: newUser.email, role: newUser.role as \"user\" | \"admin\" }]);\r\n    logActivity(`Menambahkan user ${newUser.name}`);\r\n    setShowAddForm(false);\r\n    setNewUser({ name: \"\", email: \"\", role: \"user\", password: \"\" });\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-900 text-white p-6\">\r\n      <div className=\"max-w-6xl mx-auto space-y-6\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between\">\r\n          <div>\r\n            <nav className=\"text-sm text-white/60 mb-1\">\r\n              <span className=\"hover:underline cursor-pointer\" onClick={() => router.push(\"/\")}>\r\n                Home\r\n              </span>{\" \"}\r\n              /{\" \"}\r\n              <span className=\"hover:underline cursor-pointer\" onClick={() => router.push(\"/admin\")}>\r\n                Admin\r\n              </span>{\" \"}\r\n              / Manajemen Pengguna\r\n            </nav>\r\n            <h1 className=\"text-3xl font-bold\">Admin Dashboard</h1>\r\n          </div>\r\n          <button onClick={handleLogout} className=\"text-sm text-red-400 hover:underline flex items-center gap-0.01\" title=\"Keluar dari sistem\">\r\n            <Image src=\"/Logout.svg\" alt=\"Logout\" width={32} height={32} /> Logout\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"flex justify-between items-center\">\r\n          <h2 className=\"text-xl font-semibold\">Daftar Pengguna</h2>\r\n          <div className=\"space-x-2\">\r\n            <button onClick={() => setShowAddForm(true)} className=\"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-md text-sm\" title=\"Tambah pengguna baru\">\r\n              + Tambah User\r\n            </button>\r\n            <button onClick={exportCSV} className=\"bg-sky-600 hover:bg-sky-500 text-white px-4 py-2 rounded-md text-sm\" title=\"Export ke CSV\">\r\n              ‚¨áÔ∏è Export CSV\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"overflow-x-auto bg-slate-800 rounded-lg shadow-md border border-slate-700\">\r\n          <table className=\"min-w-full text-sm text-left text-white\">\r\n            <thead className=\"bg-slate-700 uppercase text-xs\">\r\n              <tr>\r\n                <th className=\"px-6 py-3\">Nama</th>\r\n                <th className=\"px-6 py-3\">Email</th>\r\n                <th className=\"px-6 py-3\">Role</th>\r\n                <th className=\"px-6 py-3 text-right\">Aksi</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users.map((user) => (\r\n                <tr key={user.id} className=\"border-b border-slate-700 hover:bg-slate-700/30\">\r\n                  <td className=\"px-6 py-4 font-medium flex items-center gap-2\">\r\n                    <Image src=\"/User.svg\" alt=\"User\" width={24} height={24} />\r\n                    {user.name}\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">{user.email}</td>\r\n                  <td className=\"px-6 py-4 capitalize\">\r\n                    <span className={`inline-block px-3 py-1 rounded-full text-xs font-semibold ${user.role === \"admin\" ? \"bg-red-500/20 text-red-300\" : \"bg-blue-500/20 text-blue-300\"}`}>{user.role}</span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <div className=\"flex justify-end items-center gap-2\">\r\n                      <button onClick={() => toggleRole(user.id)} className=\"bg-blue-600 hover:bg-blue-500 px-3 py-1 rounded text-white text-xs\">\r\n                        Ubah Role\r\n                      </button>\r\n                      <button onClick={() => removeUser(user.id)} className=\"bg-red-600 hover:bg-red-500 px-3 py-1 rounded text-white text-xs\">\r\n                        Hapus\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-10\">\r\n          <div className=\"bg-slate-800 rounded-lg p-4 border border-slate-700 max-h-72 overflow-y-auto\">\r\n            <h2 className=\"text-lg font-semibold mb-3\">‚è±Ô∏è Riwayat Aktivitas</h2>\r\n            {activityLogs.length > 0 ? (\r\n              activityLogs.map((log, i) => (\r\n                <p key={i} className=\"text-sm text-white/80\">\r\n                  {log.timestamp} ‚Äì {log.message}\r\n                </p>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-white/50 italic\">Belum ada aktivitas tercatat.</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"bg-slate-800 rounded-lg p-4 border border-slate-700 max-h-72 overflow-y-auto\">\r\n            <h2 className=\"text-lg font-semibold mb-3\">üîê Riwayat Login & Logout</h2>\r\n            {loginLogs.length > 0 ? (\r\n              loginLogs.map((log, i) => (\r\n                <p key={i} className=\"text-sm text-white/80\">\r\n                  {log.timestamp} ‚Äì {log.message}\r\n                </p>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-white/50 italic\">Belum ada log login/logout.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {showAddForm && (\r\n          <div className=\"fixed inset-0 bg-black/50 flex justify-center items-center z-50\">\r\n            <div className=\"bg-slate-800 p-6 rounded-xl shadow-lg w-full max-w-md relative\">\r\n              <h3 className=\"text-xl font-bold mb-4\">Tambah Pengguna</h3>\r\n              <div className=\"space-y-3\">\r\n                <input type=\"text\" placeholder=\"Nama\" className=\"w-full px-4 py-2 rounded bg-slate-700 text-white focus:outline-none\" value={newUser.name} onChange={(e) => setNewUser({ ...newUser, name: e.target.value })} />\r\n                <input type=\"email\" placeholder=\"Email\" className=\"w-full px-4 py-2 rounded bg-slate-700 text-white focus:outline-none\" value={newUser.email} onChange={(e) => setNewUser({ ...newUser, email: e.target.value })} />\r\n                <input type=\"password\" placeholder=\"Password\" className=\"w-full px-4 py-2 rounded bg-slate-700 text-white focus:outline-none\" value={newUser.password} onChange={(e) => setNewUser({ ...newUser, password: e.target.value })} />\r\n                <select className=\"w-full px-4 py-2 rounded bg-slate-700 text-white\" value={newUser.role} onChange={(e) => setNewUser({ ...newUser, role: e.target.value as \"user\" | \"admin\" })}>\r\n                  <option value=\"user\">User</option>\r\n                  <option value=\"admin\">Admin</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"flex justify-end gap-3 mt-4\">\r\n                <button onClick={() => setShowAddForm(false)} className=\"px-4 py-2 bg-gray-600 rounded text-white hover:bg-gray-500\">\r\n                  Batal\r\n                </button>\r\n                <button onClick={handleAddUser} className=\"px-4 py-2 bg-blue-600 rounded text-white hover:bg-blue-500\">\r\n                  Simpan\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}